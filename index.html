<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The State of Mozilla: 2022 — 2023 Annual Report — Mozilla</title>

    <meta name="description" content="Every year, in the spirit of openness upon which Mozilla was founded, we share publicly the ways we have protected, fought for and helped advance the internet in service of the people who rely on it every day." />
    <meta property="og:title" content="The State of Mozilla: 2022 — 2023 Annual Report — Mozilla" />
    <meta property="og:description" content="Every year, in the spirit of openness upon which Mozilla was founded, we share publicly the ways we have protected, fought for and helped advance the internet in service of the people who rely on it every day." />
    <meta property="og:image" content="/og-image.jpg" />

    <!-- <script type="text/javascript" src="https://www.bugherd.com/sidebarv2.js?apikey=cltuoorymbo4x7w8iwxbnq" async="true"></script> -->
  </head>

  <body class="flex flex-col font-body" x-data :class="{ 'overflow-hidden h-screen' : $store.body.lock }">
    <header ref="header" class="fixed top-0 left-0 z-20 w-full transition duration-150 ease-out"  x-data="nav()" @scroll.window="revealHeader()" :class="isScrolled ? 'bg-white' : ''">
      <div class="container flex items-center justify-between gap-6 transition-opacity duration-300 py-9">
        <a href="https://www.mozilla.org/en-US/" class="w-[100px]">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 99 29" class="w-[100px]">
            <g fill="#000000" clip-path="url(#header-a)">
              <path d="M36.9066 12.885c-1.8103 0-2.9378 1.3793-2.9378 3.7675 0 2.1956.9889 3.8842 2.9081 3.8842 1.84 0 3.0467-1.5211 3.0467-3.9401 0-2.5607-1.3453-3.7116-3.017-3.7116Zm48.5195 6.384c0 .8163.3858 1.4656 1.4539 1.4656 1.2612 0 2.6065-.928 2.6907-3.0374-.5739-.0863-1.2067-.1675-1.7855-.1675-1.2612-.0051-2.3591.36-2.3591 1.7393Z" />
              <path d="M0 0v29h98.9183V0H0Zm28.7804 23.042h-5.1883v-7.1449c0-2.1957-.7121-3.0374-2.1119-3.0374-1.7014 0-2.3891 1.2372-2.3891 3.012v4.4116h1.6473v2.7587H15.555v-7.1449c0-2.1957-.7124-3.0374-2.1119-3.0374-1.7013 0-2.389 1.2372-2.389 3.012v4.4116h2.3593v2.7587H5.8707v-2.7587h1.64694V13.108H5.8707v-2.7586h5.1834v1.9118c.7417-1.3489 2.0326-2.1652 3.7588-2.1652 1.7855 0 3.4275.8722 4.036 2.7282.6873-1.6886 2.0871-2.7282 4.036-2.7282 2.2204 0 4.2535 1.3793 4.2535 4.3862v5.8011h1.6469v2.7587h-.0049Zm7.9875.2787c-3.8133 0-6.4495-2.3885-6.4495-6.4398 0-3.712 2.196-6.7798 6.6425-6.7798 4.4462 0 6.6125 3.0627 6.6125 6.6073 0 4.0516-2.8536 6.6123-6.8055 6.6123Zm19.957-.2787H45.913l-.356-1.9119 6.8055-8.017h-3.8677l-.5491 1.9676-2.5521-.2842.4402-4.4471h10.8663l.2769 1.9118-6.865 8.0221h4.0063l.5785-1.9676 2.7996.2791-.7715 4.4472Zm7.0626 0h-3.7044v-4.5588h3.7044v4.5588Zm0-8.1338h-3.7044v-4.5588h3.7044v4.5588Zm2.3148 8.1338 5.3513-19.35537h3.4869L69.5892 23.042h-3.4869Zm7.1913 0 5.3463-19.35537h3.487L76.7756 23.042h-3.482Zm18.9924.2787c-1.6469 0-2.5521-.9838-2.7154-2.5302-.7121 1.293-1.9733 2.5302-3.9766 2.5302-1.7856 0-3.8133-.9838-3.8133-3.6308 0-3.1236 2.9378-3.8537 5.7622-3.8537.6873 0 1.3994.0304 2.0327.1116v-.4208c0-1.2931-.0298-2.8399-2.0327-2.8399-.7422 0-1.3157.0559-1.8945.3651l-.4006 1.43-2.8239-.3092.4847-2.921c2.166-.9026 3.2642-1.1509 5.2969-1.1509 2.6609 0 4.9114 1.4047 4.9114 4.305v5.5122c0 .7301.2769.9835.8507.9835.163 0 .3313-.0305.5194-.086l.0294 1.9115c-.6676.3701-1.4638.5934-2.2304.5934Z" />
            </g>
            <defs>
              <clipPath id="header-a">
                <path fill="#fff" d="M0 0h99v29H0z" />
              </clipPath>
            </defs>
          </svg>
          <span class="sr-only">Go to Mozilla.org</span>
        </a>
        <div class="flex items-center gap-[35px]">
          <a href="#" class="flex items-start justify-start gap-[5px] text-[16px]/[19px] font-medium hover:underline cursor-pointer font-title">
            Mozilla.org
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" class="w-[14px] shring-0 translate-y-0.5">
              <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.16667" d="M10.5 7.58333v3.49997A1.1666 1.1666 0 0 1 9.33333 12.25H2.91667A1.16663 1.16663 0 0 1 1.75 11.0833V4.66667A1.16668 1.16668 0 0 1 2.91667 3.5h3.5M8.75 1.75h3.5v3.5M5.83337 8.16667 12.25 1.75" />
            </svg>
          </a>
          <a href="#" class="flex items-start justify-start gap-[5px] text-[16px]/[19px] font-medium hover:underline cursor-pointer font-title">
            External Link
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" class="w-[14px] shring-0 translate-y-0.5">
              <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.16667"
                d="M10.5 7.58333v3.49997A1.1666 1.1666 0 0 1 9.33333 12.25H2.91667A1.16663 1.16663 0 0 1 1.75 11.0833V4.66667A1.16668 1.16668 0 0 1 2.91667 3.5h3.5M8.75 1.75h3.5v3.5M5.83337 8.16667 12.25 1.75" />
            </svg>
          </a>
          <a href="#" class="bg-black text-white text-[16px] font-bold leading-none px-[24px] pt-[13px] pb-[12px] rounded hover:bg-[#86C5C8] transition duration-150 ease-out font-title">CTA</a>
        </div>
      </div>
      <script>
        function nav() {
          return {
            menuOpen: false,
            lastScrollTop: null,
            isScrolled: false,
            hideHeader: false,

            toggleMenu() {
              this.menuOpen = !this.menuOpen;
            },
            revealHeader() {
              var lastScroll = window.pageYOffset;

              if (lastScroll > this.lastScrollTop && lastScroll > 200) {
                this.$el.style.transform = 'translateY(-100%)';
                this.isScrolled = true;
                this.hideHeader = true;
              } else {
                this.$el.style.transform = 'translateY(0)';
                this.hideHeader = false;
              }

              if (lastScroll < 300 && this.isScrolled) {
                this.isScrolled = false;
              }

              this.lastScrollTop = lastScroll <= 0 ? 0 : lastScroll;
            },
          }
        }
      </script>
    </header>

    <main x-data="modalCheck()" class="z-10">
      <!-- Hero -->
      <section class="bg-[#CEEAEB] relative min-h-screen flex items-end pb-[60px] pt-[100px] overflow-hidden" x-ref="hero" x-data="Hero()">
        <div class="origin-top absolute top-0 left-1/2 -translate-x-1/2 h-full w-0.5 bg-[#111111]"></div>
        <div class="container flex items-end justify-between h-full">
          <div class="flex items-start justify-start w-5/12">
            <span class="origin-left -rotate-90 text-[28px] font-medium translate-y-[70px] translate-x-[15px] leading-none">2023</span>
            <div class="flex flex-col items-start justify-start w-full">
              <h1 class="text-[81px] leading-none tracking-[-0.81px] text-[#111111] font-black mb-0 font-title">
                State of
                <br />
                Mozilla
              </h1>
              <div class="w-full h-0.5 bg-[#111111] mt-[29px] mb-[34px] max-w-[440px]"></div>
              <h2 class="text-[24px]/[31px] tracking-[.48px] font-title">Mozilla was built to make <br>the internet better</h2>

              <button class="mt-[85px] mb-1 transition duration-150 ease-out hover:translate-y-2 cursor-pointer" @click="nextSection()">
                <svg width="47" height="48" viewBox="0 0 47 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M46.5455 24.7727L23.6364 47.6818L0.727271 24.7727L5.95454 19.5L19.7955 33.3409L19.7955 0.909086L27.4773 0.909086L27.4773 33.3409L41.2955 19.5L46.5455 24.7727Z"
                    fill="black" />
                </svg>
                <span class="sr-only">Scroll to the next section</span>
              </button>
            </div>
          </div>
          <div class="flex flex-col w-5/12">
            <div class="w-[45vw]" x-html="article.icon"></div>
            <div class="flex flex-col mt-[20px] w-10/12 self-end items-start justify-start">
              <h3 class="text-[37px]/[38px] tracking-[1.08px] font-semibold font-title" x-html="article.title"></h3>
              <div class="flex items-start justify-start w-full gap-[22px] mt-[40px]">
                <img x-show="article.author" :src="article.author.image" alt="Head shot of INSERT NAME HERE" width="75" height="75" class="w-[75px] shrink-0 mix-blend-multiply"/>
                <div x-show="article.author" class="flex flex-col items-start justify-start w-full gap-5">
                  <div class="flex flex-col items-start justify-start w-full shrink-0">
                    <span class="flex items-end gap-[10px] w-full">
                      <h4 class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block" x-html="article.author.name"></h4>
                      <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                    </span>
                    <h5 class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></h5>
                  </div>

                  <a :href="article.hash" class="flex items-center gap-[5px] group">
                    <span class="text-[16px]/[28px] font-bold relative font-title">
                      Read
                      <span class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12" class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                      <path fill="#000" d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                    </svg>
                  </a>
                </div>

                <a x-show="!article.author" x-cloak :href="article.hash" class="flex items-center gap-[5px] group">
                  <span class="text-[16px]/[28px] font-bold relative font-title">
                    Read
                    <span
                      class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                  </span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                    class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                    <path fill="#000"
                      d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>

        <script>
          function Hero() {
            return {
              article: null,
              init() {
                // get articles from $store.articles that has the lead_article property
                this.article = this.$store.articles.find(article => article.content.lead_article)?.content;
              },
              
              nextSection() {
                const nextSection = this.$refs.hero.nextElementSibling;
                window.scrollTo({
                  top: nextSection.offsetTop,
                  behavior: 'smooth'
                });
              }
            }
          }
        </script>
      </section>

      <!-- Downloads -->
      <section class="bg-[#CEEAEB] border-t-2 border-b-2 border-[#111111] w-full overflow-hidden">
        <div class="relative flex items-stretch justify-center w-full">
          <div class="container px-[60px] py-4">
            <div class="flex items-center w-10/12 mx-auto justify-center gap-[32px]">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 61 61" class="w-[60px] shrink-0">
                <rect width="59" height="59" x="1" y="1" stroke="#000" stroke-width="2" rx="29.5" />
                <path fill="#000"
                  d="M22.94 30.24a.99982.99982 0 0 0-.3951-.0142.99833.99833 0 0 0-.3697.1399.99811.99811 0 0 0-.2865.2723.99791.99791 0 0 0-.1587.362l-.49 1.94a.99965.99965 0 0 0 .1382.7457A.9999.9999 0 0 0 22 34.12c.2572.0634.5291.0222.756-.1147a.9998.9998 0 0 0 .454-.6153l.49-1.94c.0309-.1294.0358-.2637.0142-.395a1.00182 1.00182 0 0 0-.1399-.3697 1.0011 1.0011 0 0 0-.2723-.2866.99961.99961 0 0 0-.362-.1587Zm17 7.52-4-16a1.00022 1.00022 0 0 0-.3422-.5381A.99986.99986 0 0 0 35 21h-3a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 31 22v16c0 .2652.1053.5196.2929.7071A.99993.99993 0 0 0 32 39h7c.1519.0008.3019-.033.4388-.0988.1369-.0659.257-.162.3512-.2812a1.0007 1.0007 0 0 0 .2053-.4055c.0364-.1491.038-.3047.0047-.4545h-.06ZM33 37V23h1.22l3.5 14H33Zm-8.6-12.58a.9996.9996 0 0 0-.3923-.0211.99931.99931 0 0 0-.3701.1315.99967.99967 0 0 0-.4576.6196l-.48 1.94a.9999.9999 0 0 0 .73 1.21h.24a.99976.99976 0 0 0 .6342-.2034c.1819-.1383.311-.3347.3658-.5566l.48-1.94a1.00068 1.00068 0 0 0-.1345-.7429A1.00016 1.00016 0 0 0 24.4 24.42ZM25.51 23h2c.2652 0 .5195-.1054.7071-.2929A1.0001 1.0001 0 0 0 28.51 22c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 27.51 21h-2a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 24.51 22c0 .2652.1053.5196.2929.7071A.99993.99993 0 0 0 25.51 23Zm-3.27 14a1.00724 1.00724 0 0 0-1.6223-.912c-.21.1651-.3459.4068-.3777.672l-.24 1a1.00057 1.00057 0 0 0-.0096.4508c.0312.1491.0961.289.1896.4092a.99858.99858 0 0 0 .3646.2879c.1424.066.2984.0976.4554.0921h1c.2652.0318.5322-.043.7422-.208.2101-.1651.3459-.4068.3778-.672a1.00724 1.00724 0 0 0-.88-1.12ZM28 24.51a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 27 25.51v2c0 .2652.1053.5196.2929.7071a.99993.99993 0 0 0 1.4142 0A1.0001 1.0001 0 0 0 29 27.51v-2c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 28 24.51Zm0 6a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 27 31.51v2c0 .2652.1053.5196.2929.7071a.99993.99993 0 0 0 1.4142 0A1.0001 1.0001 0 0 0 29 33.51v-2c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 28 30.51Zm0 6a.99975.99975 0 0 0-.86.49H26a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 25 38c0 .2652.1053.5196.2929.7071A.99993.99993 0 0 0 26 39h2c.2652 0 .5195-.1054.7071-.2929A1.0001 1.0001 0 0 0 29 38v-.49c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 28 36.51Z" />
              </svg>
              <span class="grow text-[20px]/[28px] font-normal">2023 Audited Financial Statement</span>
              <a href="/downloads/mozilla-fdn-2021-fs-final-1010.pdf" target="_blank"
                class="bg-black text-white text-[16px] font-title font-bold leading-none px-[24px] pt-[13px] pb-[12px] rounded hover:bg-[#86C5C8] transition duration-150 ease-out">
                Download
              </a>
            </div>
          </div>
          <div class="w-0.5 bg-black h-full shrink-0 absolute left-1/2 -translate-x-1/2 top-0"></div>
          <div class="container px-[60px] py-4">
            <div class="flex items-center w-10/12 mx-auto justify-center gap-[32px]">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 61 61" class="w-[60px] shrink-0">
                <rect width="59" height="59" x="1" y="1" stroke="#000" stroke-width="2" rx="29.5" />
                <path fill="#000"
                  d="M25.6 33.18a1.00411 1.00411 0 0 0-1.42 0 1.00411 1.00411 0 0 0 0 1.42l1.06 1.06c.093.0937.2036.1681.3254.2189a.99972.99972 0 0 0 .3846.0769c.132 0 .2627-.0261.3846-.0769.1218-.0508.2324-.1252.3254-.2189.0937-.093.1681-.2036.2189-.3254a.99972.99972 0 0 0 .0769-.3846c0-.132-.0261-.2627-.0769-.3846a1.00189 1.00189 0 0 0-.2189-.3254l-1.06-1.06Zm-3.79-5.4-1.06 1.06a.9101.9101 0 0 0-.19.26c-.144.0695-.2692.1726-.3652.3005-.0959.1279-.1598.277-.1863.4347a.99999.99999 0 0 0 .2815.8748l1.06 1.06c.093.0937.2036.1681.3254.2189a.99972.99972 0 0 0 .3846.0769c.132 0 .2627-.0261.3846-.0769.1218-.0508.2324-.1252.3254-.2189.0937-.093.1681-.2036.2189-.3254a.99972.99972 0 0 0 .0769-.3846c0-.132-.0261-.2627-.0769-.3846a1.00189 1.00189 0 0 0-.2189-.3254l-.36-.35.81-.81a1.0003 1.0003 0 0 0 .2397-.6891.99997.99997 0 0 0-.2921-.6685 1 1 0 0 0-.6686-.2921 1.0002 1.0002 0 0 0-.689.2397Zm4.19.79c-.2652 0-.5196.1054-.7071.2929A1.0001 1.0001 0 0 0 25 29.57v1.5c0 .2652.1054.5196.2929.7071s.4419.2929.7071.2929c.2652 0 .5196-.1054.7071-.2929A1.0001 1.0001 0 0 0 27 31.07v-1.5c0-.2652-.1054-.5196-.2929-.7071A1.0001 1.0001 0 0 0 26 28.57Zm13.71.72-5-5a.999.999 0 0 0-.5132-.2701.99954.99954 0 0 0-.5768.0601c-.1826.075-.3389.2024-.4493.3661A1.00074 1.00074 0 0 0 33 25v10c.001.1974.0604.3901.1707.5539.1104.1637.2667.2911.4493.3661.1187.056.2488.0834.38.08a1.0003 1.0003 0 0 0 .3839-.0742c.1218-.0498.2327-.1231.3261-.2158l5-5c.0937-.093.1681-.2036.2189-.3254A.99972.99972 0 0 0 40.0058 30c0-.132-.0261-.2627-.0769-.3846a1.00189 1.00189 0 0 0-.2189-.3254ZM35 32.59v-5.18L37.59 30 35 32.59ZM30 20c-.2652 0-.5196.1054-.7071.2929A1.0001 1.0001 0 0 0 29 21v18c0 .2652.1054.5196.2929.7071S29.7348 40 30 40c.2652 0 .5196-.1054.7071-.2929A1.0001 1.0001 0 0 0 31 39V21c0-.2652-.1054-.5196-.2929-.7071A1.0001 1.0001 0 0 0 30 20Zm-3.62 4.08a.99954.99954 0 0 0-.5768-.0601.999.999 0 0 0-.5132.2701l-.65.71a.99984.99984 0 0 0-.2908.705c0 .2642.1045.5176.2908.705.1846.1884.4362.2962.7.3a.99935.99935 0 0 0 .45-.11c.1502.0325.3059.0299.455-.0075.1491-.0375.2875-.1088.4046-.2084a1.0012 1.0012 0 0 0 .2703-.3661A.99956.99956 0 0 0 27 25.57V25a1.00074 1.00074 0 0 0-.1707-.5539 1.00043 1.00043 0 0 0-.4493-.3661Z" />
              </svg>
              <span class="grow text-[20px]/[28px] font-normal">2023 Form 990</span>
              <a href="/downloads/mozilla-fdn-2021-fs-final-1010.pdf" target="_blank"
                class="bg-black text-white text-[16px] font-title font-bold leading-none px-[24px] pt-[13px] pb-[12px] rounded hover:bg-[#86C5C8] transition duration-150 ease-out">
                Download
              </a>
            </div>
          </div>
        </div>
      </section>

      <section class="relative w-screen overflow-hidden bg-[#EEEEEE]" x-data="articles()">
        <div class="w-0.5 bg-black h-full shrink-0 absolute left-1/2 -translate-x-1/2 top-0 z-10"></div>
        <div class="container">
          <div class="grid grid-cols-12">
            <div class="relative z-0 col-span-6">
              <div class="z-10 flex flex-col items-start justify-start w-full py-[65px] pr-[65px]">
                <div class="flex flex-col items-start justify-start w-full">
                  <span class="flex items-end gap-[10px] w-full">
                    <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                      x-html="firstArticle.author.name"></span>
                    <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                  </span>
                  <span class="text-[14px]/[21px] font-normal font-title" x-html="firstArticle.author.job_title"></span>
                </div>
                <div class="w-full flex items-end justify-end my-[30px] ">
                  <div class="[&>svg]:w-[48vw]" x-html="firstArticle.icon"></div>
                </div>
                <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title" x-html="firstArticle.title"></h3>
                <a x-cloak :href="firstArticle.hash" class="flex items-center mt-[25px] gap-[5px] group">
                  <span class="text-[16px]/[28px] font-bold relative font-title">
                    Read
                    <span
                      class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                  </span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                    class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                    <path fill="#000"
                      d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                  </svg>
                </a>
              </div>
            </div>
            <div class="relative flex items-center justify-end col-span-6 py-10 boder">
              <div class="bg-[#89D5FF] absolute top-0 left-0 w-[50vw] h-full z-[1]"></div>
              <div class="z-10 flex-col items-end justify-start w-3/4 bg-[#89D5FF] pl-10 relative">
                <span class="absolute top-0 left-0 font-body text-[56px]/[55px] font-bold -translate-x-10">“</span>
                <p class="font-title text-[24px]/[31px] font-normal tracking-[.48px]">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse nec augue turpis. Cras auctor et ligula nec consequat. Orci varius natoque penatibus et magnis.
                </p>
                <div class="flex items-center justify-start w-full gap-[22px] mt-[95px]">
                  <img src="/headshots/headshot.png" alt="Head shot of INSERT NAME HERE" width="75" height="75" loading="lazy" class="w-[75px] shrink-0 mix-blend-multiply" />
                  <div class="flex flex-col items-start justify-start w-full gap-5">
                    <div class="flex flex-col items-start justify-start w-full shrink-0">
                      <span class="flex items-end gap-[10px] w-full">
                        <h4 class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block">Mitchel Baker</h4>
                      </span>
                      <h5 class="text-[14px]/[21px] font-normal font-title">Mitchel Baker</h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- First row of 3 articles -->
        <div class="relative border-t-2 border-black bg-[#EEEEEE] z-20">
          <div class="container relative">
            <div class="flex justify-between gap-[65px]">
              <template x-for="(article, index) in firstRow" :key="index">
                <div class="relative z-20 flex-[33%]" x-bind:style="'order: ' + index">
                  <div class="z-10 flex flex-col items-start justify-start w-full py-[65px]">
                    <div class="flex flex-col items-start justify-start w-full">
                      <span class="flex items-end gap-[10px] w-full">
                        <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                          x-html="article.author.name"></span>
                        <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                      </span>
                      <span class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></span>
                    </div>
                    <div class="w-full flex items-center justify-center my-[30px]" x-html="article.icon"></div>
                    <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title" x-html="article.title"></h3>
                    <a x-cloak :href="article.hash" class="flex items-center mt-[25px] gap-[5px] group">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </a>
                  </div>
                </div>
              </template>
              <div class="w-0.5 order-[0] bg-black shrink-0 top-0 z-10"></div>
              <div class="w-0.5 order-1 bg-black shrink-0 top-0 z-10"></div>
            </div>
          </div>
        </div>
        
        <!-- Second row of 2 articles -->
        <div class="border-t-2 border-black">
          <div class="container relative flex justify-between gap-[128px]">
            <template x-for="article in secondRow">
              <div class="relative z-0 w-[calc(50%-64px)] tile">
                <div class="z-10 flex flex-col items-start justify-start w-full py-[65px]">
                  <div class="flex flex-col items-start justify-start w-full">
                    <span class="flex items-end gap-[10px] w-full">
                      <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                        x-html="article.author.name"></span>
                      <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                    </span>
                    <span class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></span>
                  </div>
                  <div class="w-full flex items-end justify-end icon my-[30px]">
                    <div class="[&>svg]:w-[48vw]" x-html="article.icon"></div>
                  </div>
                  <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title" x-html="article.title"></h3>
                  <a x-cloak :href="article.hash" class="flex items-center mt-[25px] gap-[5px] group">
                    <span class="text-[16px]/[28px] font-bold relative font-title">
                      Read
                      <span
                        class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                      class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                      <path fill="#000"
                        d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                    </svg>
                  </a>
                </div>
              </div>
            </template>
          </div>
        </div>

        <script>
          function articles() {
            return {
              firstArticle: null,
              articles: null,
              firstRow: null,
              secondRow: null,

              init() {
                this.firstArticle = this.$store.articles.find(article => !article.content.lead_article)?.content;

                this.articles = this.$store.articles.filter(article => !article.content.lead_article && article.content.title !== this.firstArticle.title).map(article => article.content);
                
                // get three articles with the width value of 'third'
                this.firstRow = this.articles.filter(article => article.width === 'third' && article.title !== this.firstArticle.title).slice(0, 3);

                // get two articles that have the width value of 'half' and not the first article
                this.secondRow = this.articles.filter(article => article.width === 'half' && article.title !== this.firstArticle.title).slice(0, 2);
              }
            }
          }
        </script>
      </section>

      <!-- Why Mozilla -->
      <section class="bg-[#CEEAEB] relative py-[150px] border-t-2 border-black flex flex-col gap-[120px]" x-data="testimonies()">
        <div class="absolute top-0 left-0 w-10 h-full bg-white">
          <div x-ref="scrollBar" class="w-full h-10 transition bg-black"></div>
        </div>

        <div class="container flex items-start justify-start gap-8">
          <div class="w-1/4">
            <h2 class="text-[36px]/[38px] font-title font-bold mb-[15px]">Why I <br/>choose Mozilla</h2>
            <p class="font-body font-normal text-[16px]/[21px] tracking-[.32px]">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse nec augue.</p>
          </div>
          <div class="w-1/4">
            <div class="w-[68vw] grid grid-cols-3 testimonies__grid overflow-hidden pb-0.5">
              <template x-for="item in whyMozilla">
                <div class="bg-[#EEEEEE] p-[65px] border-2 -mr-0.5 -mb-0.5 border-black">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name" class="object-cover object-center w-full aspect-square grayscale bg-blend-darken" loading="lazy" width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <a x-cloak :href="item.hash" class="flex items-center gap-[5px] group">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000" d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </a>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>

        <div class="container flex items-start justify-start gap-8">
          <div class="w-1/4">
            <h2 class="text-[36px]/[38px] font-title font-bold mb-[15px]">Why I act <br/>with Mozilla</h2>
            <p class="font-body font-normal text-[16px]/[21px] tracking-[.32px]">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse nec augue.</p>
          </div>
          <div class="w-1/4">
            <div class="w-[68vw] border-black grid grid-cols-3 testimonies__grid overflow-hidden pb-0.5">
              <template x-for="item in actMozilla">
                <div class="bg-[#EEEEEE] p-[65px] border-2 -mr-0.5 -mb-0.5 border-black">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-cover object-center w-full aspect-square grayscale bg-blend-darken" loading="lazy"
                      width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <a x-cloak :href="item.hash" class="flex items-center gap-[5px] group">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </a>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>

        <div class="container flex items-start justify-start gap-8">
          <div class="w-1/4">
            <h2 class="text-[36px]/[38px] font-title font-bold mb-[15px]">Why I build <br/>with Mozilla</h2>
            <p class="font-body font-normal text-[16px]/[21px] tracking-[.32px]">Lorem ipsum dolor sit amet, consectetur
              adipiscing elit. Suspendisse nec augue.</p>
          </div>
          <div class="w-1/4">
            <div class="w-[68vw] border-black grid grid-cols-3 testimonies__grid overflow-hidden pb-0.5">
              <template x-for="item in buildMozilla">
                <div class="bg-[#EEEEEE] p-[65px] border-2 -mr-0.5 -mb-0.5 border-black">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-cover object-center w-full aspect-square grayscale bg-blend-darken" loading="lazy"
                      width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <a x-cloak :href="item.hash" class="flex items-center gap-[5px] group">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </a>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>

        <script>
          function testimonies() {
            return {
              whyMozilla: null,
              actMozilla: null,
              buildMozilla: null,

              init() {
                // get testimonies tagged with 'choose'
                this.whyMozilla = this.$store.testimonies.filter(testimony => testimony.content.tag.includes('choose')).map(testimony => testimony.content);

                this.actMozilla = this.$store.testimonies.filter(testimony => testimony.content.tag.includes('act')).map(testimony => testimony.content);

                this.buildMozilla = this.$store.testimonies.filter(testimony => testimony.content.tag.includes('build')).map(testimony => testimony.content);

                this.dynamicGridWidth();

                window.addEventListener('resize', () => {
                  this.dynamicGridWidth();
                });
              },
              dynamicGridWidth() {
                const grid = document.querySelectorAll('.testimonies__grid');

                grid.forEach(element => {
                  const gridLeft = element.getBoundingClientRect().left;
                  element.style.width = `calc(100vw - ${gridLeft}px)`;
                });
              }
            }
          }
        </script>
      </section>

      <template x-teleport="body">
        <div id="modal-container" class="fixed top-0 left-0 z-20 table w-full h-full transform" x-show="showModal" x-cloak>
          <div class="h-screen overflow-scroll transition duration-500 ease-out bg-white modal-background" :class="showModal ? 'opacity-100' : 'opacity-0'">
            <div class="modal w-[90vw] mx-auto block text-[#111111]" @click.outside="closeModal">
              <div class="container absolute top-0 z-10 -translate-x-1/2 left-1/2 pt-[42px] flex items-center justify-between">
                <a href="https://www.mozilla.org/en-US/" class="w-[100px]">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 99 29" class="w-[100px]">
                    <g fill="#000000" clip-path="url(#header-a)">
                      <path d="M36.9066 12.885c-1.8103 0-2.9378 1.3793-2.9378 3.7675 0 2.1956.9889 3.8842 2.9081 3.8842 1.84 0 3.0467-1.5211 3.0467-3.9401 0-2.5607-1.3453-3.7116-3.017-3.7116Zm48.5195 6.384c0 .8163.3858 1.4656 1.4539 1.4656 1.2612 0 2.6065-.928 2.6907-3.0374-.5739-.0863-1.2067-.1675-1.7855-.1675-1.2612-.0051-2.3591.36-2.3591 1.7393Z" />
                      <path d="M0 0v29h98.9183V0H0Zm28.7804 23.042h-5.1883v-7.1449c0-2.1957-.7121-3.0374-2.1119-3.0374-1.7014 0-2.3891 1.2372-2.3891 3.012v4.4116h1.6473v2.7587H15.555v-7.1449c0-2.1957-.7124-3.0374-2.1119-3.0374-1.7013 0-2.389 1.2372-2.389 3.012v4.4116h2.3593v2.7587H5.8707v-2.7587h1.64694V13.108H5.8707v-2.7586h5.1834v1.9118c.7417-1.3489 2.0326-2.1652 3.7588-2.1652 1.7855 0 3.4275.8722 4.036 2.7282.6873-1.6886 2.0871-2.7282 4.036-2.7282 2.2204 0 4.2535 1.3793 4.2535 4.3862v5.8011h1.6469v2.7587h-.0049Zm7.9875.2787c-3.8133 0-6.4495-2.3885-6.4495-6.4398 0-3.712 2.196-6.7798 6.6425-6.7798 4.4462 0 6.6125 3.0627 6.6125 6.6073 0 4.0516-2.8536 6.6123-6.8055 6.6123Zm19.957-.2787H45.913l-.356-1.9119 6.8055-8.017h-3.8677l-.5491 1.9676-2.5521-.2842.4402-4.4471h10.8663l.2769 1.9118-6.865 8.0221h4.0063l.5785-1.9676 2.7996.2791-.7715 4.4472Zm7.0626 0h-3.7044v-4.5588h3.7044v4.5588Zm0-8.1338h-3.7044v-4.5588h3.7044v4.5588Zm2.3148 8.1338 5.3513-19.35537h3.4869L69.5892 23.042h-3.4869Zm7.1913 0 5.3463-19.35537h3.487L76.7756 23.042h-3.482Zm18.9924.2787c-1.6469 0-2.5521-.9838-2.7154-2.5302-.7121 1.293-1.9733 2.5302-3.9766 2.5302-1.7856 0-3.8133-.9838-3.8133-3.6308 0-3.1236 2.9378-3.8537 5.7622-3.8537.6873 0 1.3994.0304 2.0327.1116v-.4208c0-1.2931-.0298-2.8399-2.0327-2.8399-.7422 0-1.3157.0559-1.8945.3651l-.4006 1.43-2.8239-.3092.4847-2.921c2.166-.9026 3.2642-1.1509 5.2969-1.1509 2.6609 0 4.9114 1.4047 4.9114 4.305v5.5122c0 .7301.2769.9835.8507.9835.163 0 .3313-.0305.5194-.086l.0294 1.9115c-.6676.3701-1.4638.5934-2.2304.5934Z" />
                    </g>
                    <defs>
                      <clipPath id="header-a">
                        <path fill="#fff" d="M0 0h99v29H0z" />
                      </clipPath>
                    </defs>
                  </svg>
                  <span class="sr-only">Go to Mozilla.org</span>
                </a>
                <button @click="closeModal" class="inline-flex items-center justify-end gap-[13px] group">
                  <span class="text-[16px]/[28px] font-bold relative font-title ">
                    Back
                    <span
                      class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                  </span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-[24px] translate-y-0.5">
                    <path fill="#000" d="m13.41 11.9999 6.3-6.28996a1.00411 1.00411 0 0 0 0-1.42 1.0041 1.0041 0 0 0-1.42 0L12 10.5899 5.71 4.28994a1.0041 1.0041 0 0 0-1.42 1.42l6.3 6.28996-6.3 6.29a1.00027 1.00027 0 0 0-.21889.3255.99942.99942 0 0 0-.07691.3845c0 .1321.02614.2628.07691.3846a.9988.9988 0 0 0 .21889.3254.99777.99777 0 0 0 .32542.2189A.99944.99944 0 0 0 5 20.0057a.99944.99944 0 0 0 .38458-.0769.99777.99777 0 0 0 .32542-.2189l6.29-6.3 6.29 6.3c.093.0938.2036.1682.3254.2189a.99972.99972 0 0 0 .3846.0769c.132 0 .2627-.0261.3846-.0769a.99874.99874 0 0 0 .3254-.2189.99977.99977 0 0 0 .2958-.71c0-.132-.0261-.2627-.0769-.3845a1.00125 1.00125 0 0 0-.2189-.3255l-6.3-6.29Z" />
                  </svg>
                </button>
              </div>
              <template x-if="previousArticle">
                <a :href="previousArticle.hash" @click="checkIndex" class="fixed left-0 z-20 p-5 -translate-y-1/2 max-w-[230px] bg-white border border-l-0 border-black top-1/2 group">
                  <div class="flex items-center gap-5">
                    <svg width="35" height="35" viewBox="0 0 47 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="transition duration-150 ease-out rotate-90 group-hover:-translate-x-2 shrink-0">
                      <path d="M46.5455 24.7727L23.6364 47.6818L0.727271 24.7727L5.95454 19.5L19.7955 33.3409L19.7955 0.909086L27.4773 0.909086L27.4773 33.3409L41.2955 19.5L46.5455 24.7727Z" fill="black" />
                    </svg>
                    <template x-if="$store.modalType == 'article'">
                      <div class="flex flex-col items-start justify-start gap-[10px]">
                        <div class="w-[130px]" x-html="previousArticle.icon"></div>
                        <span class="font-title text-[12px]/[12px] font-bold" x-html="previousArticle.title"></span>
                        <span class="font-title text-[10px]/[10px] font-normal" x-html="nextArticle.author.name"></span>
                      </div>
                    </template>
                    <template x-if="$store.modalType == 'testimony'">
                      <div class="flex flex-col items-start justify-start gap-[10px]">
                        <img class="w-[130px] inline-block grayscale mix-blend-darken" :src="previousArticle.author.image" width="130"
                          height="130" loading="lazy" />
                        <span class="font-title text-[12px]/[12px] font-bold" x-html="previousArticle.author.name"></span>
                      </div>
                    </template>
                  </div>
                </a>
              </template>
              
              <template x-if="nextArticle">
                <a :href="nextArticle.hash" @click="checkIndex" class="fixed right-0 z-20 p-5 -translate-y-1/2 max-w-[230px] bg-white border border-r-0 border-black top-1/2 group">
                  <div class="flex items-center gap-5">
                    <template x-if="$store.modalType == 'article'">
                      <div class="flex flex-col items-start justify-start gap-[10px]">
                        <div class="w-[130px]" x-html="nextArticle.icon"></div>
                        <span class="font-title text-[12px]/[12px] font-bold" x-html="nextArticle.title"></span>
                        <span class="font-title text-[10px]/[10px] font-normal" x-html="nextArticle.author.name"></span>
                      </div>
                    </template>
                    <template x-if="$store.modalType == 'testimony'">
                      <div class="flex flex-col items-start justify-start gap-[10px]">
                        <img class="w-[130px] inline-block grayscale mix-blend-darken" :src="nextArticle.author.image" width="130" height="130" loading="lazy" />
                        <span class="font-title text-[12px]/[12px] font-bold" x-html="nextArticle.author.name"></span>
                      </div>
                    </template>
                    <svg width="35" height="35" viewBox="0 0 47 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="duration-150 ease-out -rotate-90 group-hover:translate-x-2 shrink-0">
                      <path
                        d="M46.5455 24.7727L23.6364 47.6818L0.727271 24.7727L5.95454 19.5L19.7955 33.3409L19.7955 0.909086L27.4773 0.909086L27.4773 33.3409L41.2955 19.5L46.5455 24.7727Z"
                        fill="black"/>
                    </svg>
                  </div>
                </a>
              </template>
              
              <div class="relative inline-flex items-center p-8 bg-[#CEEAEB] min-h-screen w-full">
                <div class="container">
                  <div class="w-3/4 mx-auto">
                    <div class="flex flex-col items-start w-3/4">
                      <template x-if="$store.activeArticle.author">
                        <div class="flex items-center gap-5 mb-[48px] w-full">
                          <div class="flex flex-col items-start justify-start w-full">
                            <span class="flex items-end gap-[10px] w-full">
                              <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                                x-html="$store.activeArticle.author.name"></span>
                              <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                            </span>
                            <span class="text-[14px]/[21px] font-normal font-title" x-html="$store.activeArticle.author.job_title"></span>
                          </div>
                        </div>
                      </template>
                      
                      <h2 class="text-[64px]/[64px] font-bold font-title" x-show="showModal" x-html="$store.activeArticle.title"></h2>
                      <h3 class="font-title text-[24px]/[31px] tracking-[.48px] font-normal mt-[80px]" x-html="$store.activeArticle.excerpt"></h3>
                      
                      <template x-if="$store.activeArticle.modal_style == 'short'">
                          <div class=" modal-body" x-html="bodyFormat"></div>
                      </template>
                    </div>
                  </div>
                </div>
                <div class="absolute bottom-0 right-0 translate-x-[5vw] w-[30vw]" x-html="$store.activeArticle.icon"></div>
              </div>

              <template x-if="$store.activeArticle.modal_style != 'short'">
                <div class="bg-[#EEEEEE] py-[95px] block w-full">
                  <div class="container">
                    <div class="w-2/3 mx-auto modal-body" x-html="bodyFormat"></div>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>
      </template>

      <script>
        function modalCheck() {
          return {
            showModal: false,
            bodyFormat: null,
            previousArticle: null,
            nextArticle: null,
            init() {
              // if window.location.hash is not empty, open the modal
              if (window.location.hash) {
                this.openModal(window.location.hash);
              }

              // Watch if the hash changes
              window.addEventListener('hashchange', (event) => {
                if(event.srcElement.location.hash) {
                  this.openModal(event.srcElement.location.hash);
                }
              });
            },
            openModal(value) {
              this.showModal = true;
              this.$store.body.lock = true;

              if (this.$store.articles.find(article => article.content.hash === value)?.content) {
                this.$store.modalType = 'article';
              } else if (this.$store.testimonies.find(testimony => testimony.content.hash === value)?.content) {
                this.$store.modalType = 'testimony';
              } else {
                this.$store.modalType = null;
              }

              if(this.$store.modalType === 'article') {
                this.$store.activeArticle = this.$store.articles.find(article => article.content.hash === value)?.content;


                this.$store.articles.forEach((article, index) => {
                  if (article.content.hash === this.$store.activeArticle.hash) {
                    this.nextArticle = this.$store.articles[index + 1]?.content;
                    this.previousArticle = this.$store.articles[index - 1]?.content;
                  }
                });
              } else if (this.$store.modalType === 'testimony') {
                this.$store.activeArticle = this.$store.testimonies.find(testimony => testimony.content.hash === value)?.content;
  
                this.$store.testimonies.forEach((testimony, index) => {
                  if (testimony.content.hash === this.$store.activeArticle.hash) {
                    this.nextArticle = this.$store.testimonies[index + 1]?.content;
                    this.previousArticle = this.$store.testimonies[index - 1]?.content;
                  }
                });
              }

              if(this.$store.activeArticle.modal_style === 'long') {
                // find h4 tag in the article body and put a div before it
                const h4 = this.$store.activeArticle.body.match(/<h4.*?>.*?<\/h4>/g);
                const h4Index = this.$store.activeArticle.body.indexOf(h4[0]);
                const newBody = this.$store.activeArticle.body.slice(0, h4Index) + '<div class="flex items-start justify-between gap-[70px] mt-[100px]"><div class="relative w-full"><svg class="absolute top-0 right-0 w-[450px]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 457 437"><path fill="#CEC2FF" d="M0 200C0 89.5431 89.5431 0 200 0h257v437H0V200Z" opacity=".5" /><path fill="#CEC2FF" d="M150 200C150 89.5431 239.543 0 350 0h107v308H150V200Z" /></svg></div><div class="w-2/3 shrink-0">' + this.$store.activeArticle.body.slice(h4Index) + '</div></div>';
                this.bodyFormat = newBody;
              } else {
                this.bodyFormat = this.$store.activeArticle.body;
              }
            },
            closeModal() { 
              this.showModal = false;
              this.$store.body.lock = false;
              this.$store.activeArticle = null;
              window.location.hash = '';
            },
            checkIndex() {
              this.$store.articles.forEach((article, index) => {
                if (article.content.hash === this.$store.activeArticle.hash) {
                  this.nextArticle = this.$store.articles[index + 1]?.content;
                  this.previousArticle = this.$store.articles[index - 1]?.content;
                }
              });
            }
          }
        }
      </script>
    </main>

    <footer
      x-data="footer()"
      x-ref="footer"
      class="z-10 transition-opacity duration-300"
    >
      <div class="container relative grid gap-6 pb-9 pt-[70px]">
        <div>
          <a href="https://www.mozilla.org/en-US/" class="inline-flex hover:underline w-[100px]">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 99 29" class="w-[100px]">
              <g fill="#FFFFFF" clip-path="url(#footer-a)">
                <path
                  d="M36.9066 12.885c-1.8103 0-2.9378 1.3793-2.9378 3.7675 0 2.1956.9889 3.8842 2.9081 3.8842 1.84 0 3.0467-1.5211 3.0467-3.9401 0-2.5607-1.3453-3.7116-3.017-3.7116Zm48.5195 6.384c0 .8163.3858 1.4656 1.4539 1.4656 1.2612 0 2.6065-.928 2.6907-3.0374-.5739-.0863-1.2067-.1675-1.7855-.1675-1.2612-.0051-2.3591.36-2.3591 1.7393Z" />
                <path
                  d="M0 0v29h98.9183V0H0Zm28.7804 23.042h-5.1883v-7.1449c0-2.1957-.7121-3.0374-2.1119-3.0374-1.7014 0-2.3891 1.2372-2.3891 3.012v4.4116h1.6473v2.7587H15.555v-7.1449c0-2.1957-.7124-3.0374-2.1119-3.0374-1.7013 0-2.389 1.2372-2.389 3.012v4.4116h2.3593v2.7587H5.8707v-2.7587h1.64694V13.108H5.8707v-2.7586h5.1834v1.9118c.7417-1.3489 2.0326-2.1652 3.7588-2.1652 1.7855 0 3.4275.8722 4.036 2.7282.6873-1.6886 2.0871-2.7282 4.036-2.7282 2.2204 0 4.2535 1.3793 4.2535 4.3862v5.8011h1.6469v2.7587h-.0049Zm7.9875.2787c-3.8133 0-6.4495-2.3885-6.4495-6.4398 0-3.712 2.196-6.7798 6.6425-6.7798 4.4462 0 6.6125 3.0627 6.6125 6.6073 0 4.0516-2.8536 6.6123-6.8055 6.6123Zm19.957-.2787H45.913l-.356-1.9119 6.8055-8.017h-3.8677l-.5491 1.9676-2.5521-.2842.4402-4.4471h10.8663l.2769 1.9118-6.865 8.0221h4.0063l.5785-1.9676 2.7996.2791-.7715 4.4472Zm7.0626 0h-3.7044v-4.5588h3.7044v4.5588Zm0-8.1338h-3.7044v-4.5588h3.7044v4.5588Zm2.3148 8.1338 5.3513-19.35537h3.4869L69.5892 23.042h-3.4869Zm7.1913 0 5.3463-19.35537h3.487L76.7756 23.042h-3.482Zm18.9924.2787c-1.6469 0-2.5521-.9838-2.7154-2.5302-.7121 1.293-1.9733 2.5302-3.9766 2.5302-1.7856 0-3.8133-.9838-3.8133-3.6308 0-3.1236 2.9378-3.8537 5.7622-3.8537.6873 0 1.3994.0304 2.0327.1116v-.4208c0-1.2931-.0298-2.8399-2.0327-2.8399-.7422 0-1.3157.0559-1.8945.3651l-.4006 1.43-2.8239-.3092.4847-2.921c2.166-.9026 3.2642-1.1509 5.2969-1.1509 2.6609 0 4.9114 1.4047 4.9114 4.305v5.5122c0 .7301.2769.9835.8507.9835.163 0 .3313-.0305.5194-.086l.0294 1.9115c-.6676.3701-1.4638.5934-2.2304.5934Z" />
              </g>
              <defs>
                <clipPath id="footer-a">
                  <path fill="#fff" d="M0 0h99v29H0z" />
                </clipPath>
              </defs>
            </svg>
            <span class="sr-only">Go to Mozilla.org</span>
          </a>
        </div>
  
        <div class="flex flex-col justify-between gap-4 xl:items-center xl:gap-6 xl:flex-row">
          <p class="text-sm">
            Portions of this content are ©1998-2022 by individual mozilla.org contributors. Content available under a Creative Commons license.
          </p>
  
          <nav>
            <ul class="flex items-center gap-6 text-sm">
              <li><a href="https://www.mozilla.org/en-US/privacy/websites/" class="underline">Website Privacy Notice</a></li>
              <li><a href="https://www.mozilla.org/en-US/privacy/websites/#cookies" class="underline">Cookies</a></li>
              <li><a href="https://www.mozilla.org/en-US/about/legal/terms/mozilla/" class="underline">Legal</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </footer>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
