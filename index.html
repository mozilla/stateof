<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The State of Mozilla: 2022 — 2023 Annual Report — Mozilla</title>

    <meta name="description" content="Every year, in the spirit of openness upon which Mozilla was founded, we share publicly the ways we have protected, fought for and helped advance the internet in service of the people who rely on it every day." />
    <meta property="og:title" content="The State of Mozilla: 2022 — 2023 Annual Report — Mozilla" />
    <meta property="og:description" content="Every year, in the spirit of openness upon which Mozilla was founded, we share publicly the ways we have protected, fought for and helped advance the internet in service of the people who rely on it every day." />
    <meta property="og:image" content="/og-image.jpg" />

    <script type="text/javascript" src="https://www.bugherd.com/sidebarv2.js?apikey=hnjpnufbdoj92tf9czp9cq" async="true"></script>
  </head>

  <body class="flex flex-col font-body" x-data x-cloak :class="{ 'overflow-hidden h-screen' : $store.body.lock }">
    <header ref="header" class="fixed top-0 left-0 z-20 w-full transition duration-150 ease-out"  x-data="nav()" @scroll.window="revealHeader()" :class="isScrolled ? 'bg-white' : ''">
      <div class="container flex items-center justify-between gap-6 py-5 transition-opacity duration-300 md:py-9">
        <a href="/" x-cloak class="w-[100px] z-10">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 99 29" class="w-[100px]">
            <g fill="#000000" clip-path="url(#header-a)">
              <path d="M36.9066 12.885c-1.8103 0-2.9378 1.3793-2.9378 3.7675 0 2.1956.9889 3.8842 2.9081 3.8842 1.84 0 3.0467-1.5211 3.0467-3.9401 0-2.5607-1.3453-3.7116-3.017-3.7116Zm48.5195 6.384c0 .8163.3858 1.4656 1.4539 1.4656 1.2612 0 2.6065-.928 2.6907-3.0374-.5739-.0863-1.2067-.1675-1.7855-.1675-1.2612-.0051-2.3591.36-2.3591 1.7393Z" />
              <path d="M0 0v29h98.9183V0H0Zm28.7804 23.042h-5.1883v-7.1449c0-2.1957-.7121-3.0374-2.1119-3.0374-1.7014 0-2.3891 1.2372-2.3891 3.012v4.4116h1.6473v2.7587H15.555v-7.1449c0-2.1957-.7124-3.0374-2.1119-3.0374-1.7013 0-2.389 1.2372-2.389 3.012v4.4116h2.3593v2.7587H5.8707v-2.7587h1.64694V13.108H5.8707v-2.7586h5.1834v1.9118c.7417-1.3489 2.0326-2.1652 3.7588-2.1652 1.7855 0 3.4275.8722 4.036 2.7282.6873-1.6886 2.0871-2.7282 4.036-2.7282 2.2204 0 4.2535 1.3793 4.2535 4.3862v5.8011h1.6469v2.7587h-.0049Zm7.9875.2787c-3.8133 0-6.4495-2.3885-6.4495-6.4398 0-3.712 2.196-6.7798 6.6425-6.7798 4.4462 0 6.6125 3.0627 6.6125 6.6073 0 4.0516-2.8536 6.6123-6.8055 6.6123Zm19.957-.2787H45.913l-.356-1.9119 6.8055-8.017h-3.8677l-.5491 1.9676-2.5521-.2842.4402-4.4471h10.8663l.2769 1.9118-6.865 8.0221h4.0063l.5785-1.9676 2.7996.2791-.7715 4.4472Zm7.0626 0h-3.7044v-4.5588h3.7044v4.5588Zm0-8.1338h-3.7044v-4.5588h3.7044v4.5588Zm2.3148 8.1338 5.3513-19.35537h3.4869L69.5892 23.042h-3.4869Zm7.1913 0 5.3463-19.35537h3.487L76.7756 23.042h-3.482Zm18.9924.2787c-1.6469 0-2.5521-.9838-2.7154-2.5302-.7121 1.293-1.9733 2.5302-3.9766 2.5302-1.7856 0-3.8133-.9838-3.8133-3.6308 0-3.1236 2.9378-3.8537 5.7622-3.8537.6873 0 1.3994.0304 2.0327.1116v-.4208c0-1.2931-.0298-2.8399-2.0327-2.8399-.7422 0-1.3157.0559-1.8945.3651l-.4006 1.43-2.8239-.3092.4847-2.921c2.166-.9026 3.2642-1.1509 5.2969-1.1509 2.6609 0 4.9114 1.4047 4.9114 4.305v5.5122c0 .7301.2769.9835.8507.9835.163 0 .3313-.0305.5194-.086l.0294 1.9115c-.6676.3701-1.4638.5934-2.2304.5934Z" />
            </g>
            <defs>
              <clipPath id="header-a">
                <path fill="#fff" d="M0 0h99v29H0z" />
              </clipPath>
            </defs>
          </svg>
          <span class="sr-only">Go to Mozilla.org</span>
        </a>
        <button class="relative z-10 group lg:hidden" type="button" @click="toggleMenu(), $store.body.toggle()">
          <span class="sr-only">Toggle Menu</span>
          <div class="flex flex-col justify-between items-end lg:items-start w-[22px] h-[22px] py-[3px]">
            <span
              class="bg-black h-[2px] group-hover:bg-primary rounded-full w-full block transition-[width,background-color] duration-150 ease-out"
              :class="menuOpen ? '!w-0 delay-300' : ''"></span>
            <span
              class="bg-black h-[2px] group-hover:bg-primary rounded-full w-full block transition-[width,background-color] duration-150 ease-out"
              :class="menuOpen ? '!w-0 delay-150' : ''"></span>
            <span
              class="bg-black h-[2px] group-hover:bg-primary rounded-full w-full block transition-[width,background-color] duration-150 ease-out"
              :class="menuOpen ? '!w-0' : ''"></span>
          </div>
          <div
            class="flex flex-col absolute inset-0 justify-center w-0 transition-[width] h-[22px] -translate-y-1 duration-300 ease-in-out"
            :class="menuOpen ? 'delay-300 !w-[22px]' : ''">
            <span
              class="bg-black h-[2px] duration-150 mt-1 rounded-sm w-full block transition-transform absolute left-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2 ease-[cubic-bezier(0.175, 0.885, 0.32, 1.275)]"
              :class="menuOpen ? ' delay-[550ms] rotate-45' : ''"></span>
            <span
              class="bg-black h-[2px] duration-150 mt-1 rounded-sm w-full block absolute left-1/2 transition-transform -translate-x-1/2 -translate-y-1/2 top-1/2 ease-[cubic-bezier(0.175, 0.885, 0.32, 1.275)]"
              :class="menuOpen ? 'delay-[550ms] -rotate-45' : ''"></span>
          </div>
        </button>
        <div class="absolute top-0 left-0 transition duration-150 ease-out bg-white w-full pt-[80px] pb-[50px] px-6" x-cloak :class="!menuOpen ? '-translate-y-full' : ' shadow-2xl shadow-[rgba(0, 0, 0, .5)]'">
          <div class="flex flex-col items-center justify-center gap-[45px]">
            <div class="w-full h-px bg-black"></div>
            <a href="https://www.mozilla.org/en-US/" class="flex items-start justify-start gap-[5px] text-[16px]/[19px] font-medium hover:underline cursor-pointer font-title">
              mozilla.org
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" class="w-[14px] shring-0 translate-y-0.5">
                <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.16667" d="M10.5 7.58333v3.49997A1.1666 1.1666 0 0 1 9.33333 12.25H2.91667A1.16663 1.16663 0 0 1 1.75 11.0833V4.66667A1.16668 1.16668 0 0 1 2.91667 3.5h3.5M8.75 1.75h3.5v3.5M5.83337 8.16667 12.25 1.75" />
              </svg>
            </a>
            <a href="http://foundation.mozilla.org/" class="flex items-start justify-start gap-[5px] text-[16px]/[19px] font-medium hover:underline cursor-pointer font-title">
              foundation.mozilla.org
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" class="w-[14px] shring-0 translate-y-0.5">
                <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.16667" d="M10.5 7.58333v3.49997A1.1666 1.1666 0 0 1 9.33333 12.25H2.91667A1.16663 1.16663 0 0 1 1.75 11.0833V4.66667A1.16668 1.16668 0 0 1 2.91667 3.5h3.5M8.75 1.75h3.5v3.5M5.83337 8.16667 12.25 1.75" />
              </svg>
            </a>
          </div>
        </div>

        <div class="hidden lg:flex items-center gap-[35px]">
          <a href="https://www.mozilla.org/en-US/" class="flex items-start justify-start gap-[5px] text-[16px]/[19px] font-medium hover:underline cursor-pointer font-title">
            mozilla.org
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" class="w-[14px] shring-0 translate-y-0.5">
              <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.16667" d="M10.5 7.58333v3.49997A1.1666 1.1666 0 0 1 9.33333 12.25H2.91667A1.16663 1.16663 0 0 1 1.75 11.0833V4.66667A1.16668 1.16668 0 0 1 2.91667 3.5h3.5M8.75 1.75h3.5v3.5M5.83337 8.16667 12.25 1.75" />
            </svg>
          </a>
          <a href="http://foundation.mozilla.org/" class="flex items-start justify-start gap-[5px] text-[16px]/[19px] font-medium hover:underline cursor-pointer font-title">
            foundation.mozilla.org
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" class="w-[14px] shring-0 translate-y-0.5">
              <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.16667"
                d="M10.5 7.58333v3.49997A1.1666 1.1666 0 0 1 9.33333 12.25H2.91667A1.16663 1.16663 0 0 1 1.75 11.0833V4.66667A1.16668 1.16668 0 0 1 2.91667 3.5h3.5M8.75 1.75h3.5v3.5M5.83337 8.16667 12.25 1.75" />
            </svg>
          </a>
        </div>
      </div>
      <script>
        function nav() {
          return {
            menuOpen: false,
            lastScrollTop: null,
            isScrolled: false,
            hideHeader: false,

            toggleMenu() {
              this.menuOpen = !this.menuOpen;
            },
            revealHeader() {
              var lastScroll = window.pageYOffset;

              if (lastScroll > this.lastScrollTop && lastScroll > 200) {
                this.$el.style.transform = 'translateY(-100%)';
                this.isScrolled = true;
                this.hideHeader = true;
              } else {
                this.$el.style.transform = 'translateY(0)';
                this.hideHeader = false;
              }

              if (lastScroll < 300 && this.isScrolled) {
                this.isScrolled = false;
              }

              this.lastScrollTop = lastScroll <= 0 ? 0 : lastScroll;
            },
          }
        }
      </script>
    </header>

    <main x-data="modalCheck()" :class="showModal ? 'modalActive' : ''" class="z-10">
      <!-- Hero -->
      <section class="bg-[#CEEAEB] relative lg:min-h-screen flex items-start pt-[175px] pb-[175px] lg:pb-[60px] lg:pt-[100px] overflow-hidden lg:items-end" x-ref="hero" x-data="Hero()">
        <div class="origin-top absolute top-0 left-1/2 -translate-x-1/2 h-full w-0.5 bg-[#111111] hidden md:block scale-y-0 duration-500 ease-out" :class="!inView && canAnimate ? 'scale-y-0' : 'scale-y-100'"></div>
        <div class="container flex flex-col items-end justify-between h-full md:flex-row">
          <div class="z-10 flex items-start justify-start w-full md:w-1/2 lg:w-5/12 md:pr-10 lg:pr-0">
            <span class="origin-left -rotate-90 text-[24px] md:text-[28px] font-medium translate-y-[60px] md:translate-y-[70px] -translate-x-1 lg:translate-x-[15px] leading-none w-[20px] lg:w-auto transition duration-500 delay-100" :class="!inView && canAnimate ? 'opacity-0 -translate-y-4' : ''">2023</span>
            <div class="flex flex-col items-start justify-start w-full">
              <h1 class="text-[70px] lg:text-[81px] leading-none tracking-[-0.81px] text-[#111111] font-black mb-0 font-title transition duration-500 ease-out delay-200" :class="!inView && canAnimate ? '-translate-x-4 opacity-0' : ''">
                State of
                <br />
                Mozilla
              </h1>
              <div class="w-full h-0.5 bg-[#111111] mt-[29px] mb-[34px] max-w-[440px] duration-300 ease-out delay-200 origin-left" :class="!inView && canAnimate ? 'scale-x-0' : ''"></div>
              <h2 class="text-[24px]/[31px] tracking-[.48px] font-title transition duration-500 ease-out delay-300" :class="!inView && canAnimate ? '-translate-x-5 opacity-0' : ''">Mozilla was built to make <br class="hidden lg:inline-block">the internet better</h2>
              
              <div class="mt-[50px] md:mt-[85px] mb-1 transition duration-500 ease-out delay-[400ms]" :class="!inView && canAnimate ? '-translate-y-5 opacity-0' : ''">
                <button class="transition duration-150 ease-out cursor-pointer hover:translate-y-2" @click="nextSection()">
                  <svg width="47" height="48" viewBox="0 0 47 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M46.5455 24.7727L23.6364 47.6818L0.727271 24.7727L5.95454 19.5L19.7955 33.3409L19.7955 0.909086L27.4773 0.909086L27.4773 33.3409L41.2955 19.5L46.5455 24.7727Z"
                      fill="black" />
                  </svg>
                  <span class="sr-only">Scroll to the next section</span>
                </button>
              </div>
            </div>
          </div>
          <a :href="article.hash" class="relative flex flex-col w-full mt-[100px] md:mt-0  md:w-1/2 lg:w-5/12 group">
            <div class="w-[50vw] mb-6 hidden md:block translate-x-12 lg:translate-x-0 origin-center transition duration-500 ease-out will-change-transform [&>svg]:group-hover:drop-shadow-xl [&>svg]:group-hover:scale-105 [&>svg]:transition [&>svg]:duration-500 [&>svg]:ease-out" :class="!inView && canAnimate ? 'scale-95 opacity-0' : ''" x-html="article.icon.rect"></div>
            <div class="w-[85vw] sm:w-[65vw] absolute left-1/2 -translate-x-[45%] -translate-y-1/2 z-0 rotate-90 md:hidden transition duration-500 ease-out"
              :class="!inView && canAnimate ? 'scale-95 opacity-0' : ''" x-html="article.icon.rect"></div>
            <div class="flex flex-col md:mt-[20px] w-full md:w-10/12 self-end items-start justify-start z-10">
              <h3 class="text-[36px]/[38px] tracking-[1.08px] font-semibold font-title  transition duration-500 delay-300" x-html="article.title" :class="!inView && canAnimate ? '-translate-x-4 opacity-0' : ''"></h3>
              <div class="flex items-start justify-start w-full gap-[22px] mt-[40px] transition duration-500 delay-500" :class="!inView && canAnimate ? '-translate-x-4 opacity-0' : ''">
                <template x-if="article.author">
                  <img x-show="article.author" :src="article.author.image" alt="Head shot of INSERT NAME HERE" width="75" height="75" class="w-[75px] shrink-0 mix-blend-multiply"/>
                </template>
                
                <template x-if="article.author">
                  <div x-show="article.author" class="flex flex-col items-start justify-start w-full gap-5">
                    <div class="flex flex-col items-start justify-start w-full shrink-0">
                      <span class="flex items-end gap-[10px] w-full">
                        <h4 class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block" x-html="article.author.name"></h4>
                        <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                      </span>
                      <h5 class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></h5>
                    </div>
  
                    <div class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12" class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000" d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </template>

                <div x-show="!article.author" x-cloak class="flex items-center gap-[5px]">
                  <span class="text-[16px]/[28px] font-bold relative font-title">
                    Read
                    <span
                      class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                  </span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                    class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                    <path fill="#000"
                      d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                  </svg>
                </div>
              </div>
            </div>
          </a>
        </div>

        <script>
          function Hero() {
            return {
              article: null,
              inView: false,
              canAnimate: true,
              
              init() {
                // get articles from $store.articles that has the lead_article property
                this.article = this.$store.articles.find(article => article.content.lead_article)?.content;

                setTimeout(() => {
                  this.inView = true;
                }, 300);

                // if scroll is below the section when page loads, set inView to 1000 so that it doesn't trigger the animation
                if (window.scrollY > this.$el.offsetTop) {
                  this.canAnimate = false;
                  this.inView = true;
                }
              },
              
              nextSection() {
                const nextSection = this.$refs.hero.nextElementSibling;
                window.scrollTo({
                  top: nextSection.offsetTop,
                  behavior: 'smooth'
                });
              }
            }
          }
        </script>
      </section>

      <!-- Downloads -->
      <section class="bg-[#CEEAEB] border-t-2 border-b-2 border-[#111111] w-full overflow-hidden">
        <div class="relative flex flex-col items-stretch justify-center w-full md:flex-row">
          <div class="container px-5 lg:px-[60px] py-4 md:flex-row">
            <div class="flex items-center w-full lg:w-10/12 mx-auto justify-center gap-5 lg:gap-[32px]">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 61 61" class="w-[55px] md:w-[60px] shrink-0">
                <rect width="59" height="59" x="1" y="1" stroke="#000" stroke-width="2" rx="29.5" />
                <path fill="#000"
                  d="M22.94 30.24a.99982.99982 0 0 0-.3951-.0142.99833.99833 0 0 0-.3697.1399.99811.99811 0 0 0-.2865.2723.99791.99791 0 0 0-.1587.362l-.49 1.94a.99965.99965 0 0 0 .1382.7457A.9999.9999 0 0 0 22 34.12c.2572.0634.5291.0222.756-.1147a.9998.9998 0 0 0 .454-.6153l.49-1.94c.0309-.1294.0358-.2637.0142-.395a1.00182 1.00182 0 0 0-.1399-.3697 1.0011 1.0011 0 0 0-.2723-.2866.99961.99961 0 0 0-.362-.1587Zm17 7.52-4-16a1.00022 1.00022 0 0 0-.3422-.5381A.99986.99986 0 0 0 35 21h-3a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 31 22v16c0 .2652.1053.5196.2929.7071A.99993.99993 0 0 0 32 39h7c.1519.0008.3019-.033.4388-.0988.1369-.0659.257-.162.3512-.2812a1.0007 1.0007 0 0 0 .2053-.4055c.0364-.1491.038-.3047.0047-.4545h-.06ZM33 37V23h1.22l3.5 14H33Zm-8.6-12.58a.9996.9996 0 0 0-.3923-.0211.99931.99931 0 0 0-.3701.1315.99967.99967 0 0 0-.4576.6196l-.48 1.94a.9999.9999 0 0 0 .73 1.21h.24a.99976.99976 0 0 0 .6342-.2034c.1819-.1383.311-.3347.3658-.5566l.48-1.94a1.00068 1.00068 0 0 0-.1345-.7429A1.00016 1.00016 0 0 0 24.4 24.42ZM25.51 23h2c.2652 0 .5195-.1054.7071-.2929A1.0001 1.0001 0 0 0 28.51 22c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 27.51 21h-2a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 24.51 22c0 .2652.1053.5196.2929.7071A.99993.99993 0 0 0 25.51 23Zm-3.27 14a1.00724 1.00724 0 0 0-1.6223-.912c-.21.1651-.3459.4068-.3777.672l-.24 1a1.00057 1.00057 0 0 0-.0096.4508c.0312.1491.0961.289.1896.4092a.99858.99858 0 0 0 .3646.2879c.1424.066.2984.0976.4554.0921h1c.2652.0318.5322-.043.7422-.208.2101-.1651.3459-.4068.3778-.672a1.00724 1.00724 0 0 0-.88-1.12ZM28 24.51a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 27 25.51v2c0 .2652.1053.5196.2929.7071a.99993.99993 0 0 0 1.4142 0A1.0001 1.0001 0 0 0 29 27.51v-2c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 28 24.51Zm0 6a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 27 31.51v2c0 .2652.1053.5196.2929.7071a.99993.99993 0 0 0 1.4142 0A1.0001 1.0001 0 0 0 29 33.51v-2c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 28 30.51Zm0 6a.99975.99975 0 0 0-.86.49H26a.99993.99993 0 0 0-.7071.2929A.99969.99969 0 0 0 25 38c0 .2652.1053.5196.2929.7071A.99993.99993 0 0 0 26 39h2c.2652 0 .5195-.1054.7071-.2929A1.0001 1.0001 0 0 0 29 38v-.49c0-.2652-.1054-.5196-.2929-.7071A1.00028 1.00028 0 0 0 28 36.51Z" />
              </svg>
              <span class="grow text-[16px]/[20px] lg:text-[20px]/[28px] font-normal">2023 Audited Financial Statement</span>
              <a href="/downloads/mozilla-fdn-2021-fs-final-1010.pdf" target="_blank"
                class="bg-black text-white text-[16px] font-title font-bold leading-none px-4 lg:px-[24px] pt-[13px] pb-[12px] rounded hover:bg-[#86C5C8] transition duration-150 ease-out">
                Download
              </a>
            </div>
          </div>
          <div class=" w-full h-0.5 md:w-0.5 top-1/2 -translate-y-1/2 bg-black md:h-full shrink-0 absolute left-1/2 -translate-x-1/2 md:-translate-y-0 md:top-0"></div>
          <div class="container px-5 lg:px-[60px] py-4">
            <div class="flex items-center w-full lg:w-10/12 mx-auto justify-center gap-5 lg:gap-[32px]">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 61 61" class="w-[55px] md:w-[60px] shrink-0">
                <rect width="59" height="59" x="1" y="1" stroke="#000" stroke-width="2" rx="29.5" />
                <path fill="#000"
                  d="M25.6 33.18a1.00411 1.00411 0 0 0-1.42 0 1.00411 1.00411 0 0 0 0 1.42l1.06 1.06c.093.0937.2036.1681.3254.2189a.99972.99972 0 0 0 .3846.0769c.132 0 .2627-.0261.3846-.0769.1218-.0508.2324-.1252.3254-.2189.0937-.093.1681-.2036.2189-.3254a.99972.99972 0 0 0 .0769-.3846c0-.132-.0261-.2627-.0769-.3846a1.00189 1.00189 0 0 0-.2189-.3254l-1.06-1.06Zm-3.79-5.4-1.06 1.06a.9101.9101 0 0 0-.19.26c-.144.0695-.2692.1726-.3652.3005-.0959.1279-.1598.277-.1863.4347a.99999.99999 0 0 0 .2815.8748l1.06 1.06c.093.0937.2036.1681.3254.2189a.99972.99972 0 0 0 .3846.0769c.132 0 .2627-.0261.3846-.0769.1218-.0508.2324-.1252.3254-.2189.0937-.093.1681-.2036.2189-.3254a.99972.99972 0 0 0 .0769-.3846c0-.132-.0261-.2627-.0769-.3846a1.00189 1.00189 0 0 0-.2189-.3254l-.36-.35.81-.81a1.0003 1.0003 0 0 0 .2397-.6891.99997.99997 0 0 0-.2921-.6685 1 1 0 0 0-.6686-.2921 1.0002 1.0002 0 0 0-.689.2397Zm4.19.79c-.2652 0-.5196.1054-.7071.2929A1.0001 1.0001 0 0 0 25 29.57v1.5c0 .2652.1054.5196.2929.7071s.4419.2929.7071.2929c.2652 0 .5196-.1054.7071-.2929A1.0001 1.0001 0 0 0 27 31.07v-1.5c0-.2652-.1054-.5196-.2929-.7071A1.0001 1.0001 0 0 0 26 28.57Zm13.71.72-5-5a.999.999 0 0 0-.5132-.2701.99954.99954 0 0 0-.5768.0601c-.1826.075-.3389.2024-.4493.3661A1.00074 1.00074 0 0 0 33 25v10c.001.1974.0604.3901.1707.5539.1104.1637.2667.2911.4493.3661.1187.056.2488.0834.38.08a1.0003 1.0003 0 0 0 .3839-.0742c.1218-.0498.2327-.1231.3261-.2158l5-5c.0937-.093.1681-.2036.2189-.3254A.99972.99972 0 0 0 40.0058 30c0-.132-.0261-.2627-.0769-.3846a1.00189 1.00189 0 0 0-.2189-.3254ZM35 32.59v-5.18L37.59 30 35 32.59ZM30 20c-.2652 0-.5196.1054-.7071.2929A1.0001 1.0001 0 0 0 29 21v18c0 .2652.1054.5196.2929.7071S29.7348 40 30 40c.2652 0 .5196-.1054.7071-.2929A1.0001 1.0001 0 0 0 31 39V21c0-.2652-.1054-.5196-.2929-.7071A1.0001 1.0001 0 0 0 30 20Zm-3.62 4.08a.99954.99954 0 0 0-.5768-.0601.999.999 0 0 0-.5132.2701l-.65.71a.99984.99984 0 0 0-.2908.705c0 .2642.1045.5176.2908.705.1846.1884.4362.2962.7.3a.99935.99935 0 0 0 .45-.11c.1502.0325.3059.0299.455-.0075.1491-.0375.2875-.1088.4046-.2084a1.0012 1.0012 0 0 0 .2703-.3661A.99956.99956 0 0 0 27 25.57V25a1.00074 1.00074 0 0 0-.1707-.5539 1.00043 1.00043 0 0 0-.4493-.3661Z" />
              </svg>
              <span class="grow text-[16px]/[20px] lg:text-[20px]/[28px] font-normal">2023 Form 990</span>
              <a href="/downloads/mozilla-fdn-2021-fs-final-1010.pdf" target="_blank"
                class="bg-black text-white text-[16px] font-title font-bold leading-none px-4 lg:px-[24px] pt-[13px] pb-[12px] rounded hover:bg-[#86C5C8] transition duration-150 ease-out">
                Download
              </a>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Articles -->
      <section class="relative w-screen overflow-hidden bg-[#EEEEEE]" x-data="articles()">
        <div class="w-0.5 bg-black h-full shrink-0 absolute left-1/2 -translate-x-1/2 top-0 z-10 hidden md:block"></div>
        <div class="container" x-data="rowOne()" x-intersect.margin.-175px.once="sectionInView = true">
          <div class="grid grid-cols-12">
            <div class="relative z-0 col-span-12 md:col-span-6">
              <a :href="firstArticle.hash" class="z-10 no-underline group flex flex-col items-start justify-start w-full py-[65px] md:pr-[65px]">
                <div class="flex flex-col items-start justify-start w-full">
                  <span class="flex items-end gap-[10px] w-full">
                    <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block transition duration-500 ease-out" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="firstArticle.author.name"></span>
                    <div class="w-full h-0.5 bg-black -translate-y-1.5 transition duration-300 ease-out delay-100 origin-left" :class="!sectionInView && canAnimate ? 'scale-x-0' : ''"></div>
                  </span>
                  <span class="text-[14px]/[21px] font-normal font-title transition duration-500 ease-out delay-100" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="firstArticle.author.job_title"></span>
                </div>
                <div class="w-full flex items-end justify-end my-[30px] transition duration-500 ease-out will-change-[opacity] " :class="!sectionInView && canAnimate ? 'opacity-0 scale-95' : ''">
                  <div class="[&>svg]:w-[100vw] [&>svg]:md:w-[46.7vw] [&>svg]:group-hover:drop-shadow-xl [&>svg]:group-hover:scale-105 [&>svg]:transition [&>svg]:duration-500 [&>svg]:ease-out" x-html="firstArticle.icon.rect"></div>
                </div>
                <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title transition duration-500 ease-out delay-300" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="firstArticle.title"></h3>

                <div class="duration-500 ease-out inline-blocktransition delay-[400ms]" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''">
                  <div x-cloak class="flex items-center mt-[25px] gap-[5px]">
                    <span class="text-[16px]/[28px] font-bold relative font-title">
                      Read
                      <span
                        class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12" class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                      <path fill="#000" d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                    </svg>
                  </div>
                </div>
              </a>
            </div>
            <div class="relative flex items-center justify-end col-span-12 py-[60px] md:py-10 md:col-span-6">
              <div class="bg-[#89D5FF] absolute top-0 left-1/2 -translate-x-1/2 md:-translate-x-0 md:left-0 w-screen md:w-[50vw] h-full z-[1] border-t-2 border-black md:border-t-0 transition duration-500 ease-out delay-100" :class="!sectionInView && canAnimate ? 'opacity-0' : ''"></div>
              <div class="relative z-10 flex-col items-end justify-start w-full pl-10 transition ease-out delay-500 md:w-11/12 lg:w-3/4">
                <span class="absolute top-0 left-0 font-body text-[56px]/[55px] font-bold lg:-translate-x-10 transition duration-500 ease-out delay-200" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''">“</span>
                <p class="font-title text-[24px]/[31px] font-normal tracking-[.48px] transition duration-500 ease-out delay-200" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-y-4' : ''">
                  We remain big believers in the power of technology to transform the world for good, but we know that won’t happen without a concerted cross-industry effort. Mozilla is the right company to lead that charge.
                </p>
                <div class="flex items-center justify-start w-full gap-[22px] mt-[95px] transition duration-500 ease-out delay-[400ms] bg-[#89D5FF]" :class="!sectionInView && canAnimate ? 'opacity-0' : ''">
                  <img src="/headshots/mark-surman.jpeg" alt="Head shot of Mark Surman" width="75" height="75" loading="lazy" class="w-[75px] shrink-0 mix-blend-multiply grayscale rounded-full" />
                  <div class="flex flex-col items-start justify-start w-full gap-5">
                    <div class="flex flex-col items-start justify-start w-full shrink-0">
                      <span class="flex items-end gap-[10px] w-full">
                        <h4 class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block">Mark Surman</h4>
                      </span>
                      <h5 class="text-[14px]/[21px] font-normal font-title">President and Executive Director</h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <script>
            function rowOne() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
        </div>
        
        <!-- First row of 3 articles -->
        <div class="hidden md:block relative border-t-2 border-black bg-[#EEEEEE] z-20" x-data="rowTwo()" x-intersect.margin.-300px.once="sectionInView = true">
          <div class="container relative">
            <div class="flex justify-between md:gap-[25px] lg:gap-[65px]">
              <template x-for="(article, index) in firstRow" :key="index">
                <div class="relative z-20 flex-[33%] transition duration-500 ease-out will-change-[opacity]" :class="!sectionInView && canAnimate ? 'opacity-0 scale-95' : ''" x-bind:style="'order: ' + index + '; transition-delay:' + index + '00ms;'">
                  <a :href="article.hash" class="z-10 flex flex-col items-start justify-start w-full py-[65px] group">
                    <div class="flex flex-col items-start justify-start w-full">
                      <span class="flex items-end gap-[10px] w-full">
                        <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                          x-html="article.author.name"></span>
                        <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                      </span>
                      <span class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></span>
                    </div>
                    <div class="w-full flex items-center justify-center my-[30px] [&>svg]:w-full [&>svg]:transition [&>svg]:group-hover:scale-105 [&>svg]:group-hover:drop-shadow-xl [&>svg]:duration-500 [&>svg]:ease-out" x-html="article.icon.square"></div>
                    <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title" x-html="article.title"></h3>
                    <div x-cloak class="flex items-center mt-[25px] gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </a>
                </div>
              </template>
              <div class="w-0.5 order-[0] bg-black shrink-0 top-0 z-10"></div>
              <div class="w-0.5 order-1 bg-black shrink-0 top-0 z-10"></div>
            </div>
          </div>

          <script>
            function rowTwo() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
        </div>
        
        <!-- Second row of 2 articles -->
        <div class="hidden border-t-2 border-black md:block" x-data="rowThree()" x-intersect.margin.-300px.once="sectionInView = true">
          <div class="container relative flex justify-between gap-[65px] md:gap-[128px]">
            <template x-for="article in secondRow">
              <div class="relative z-0 w-[calc(50%-64px)] tile">
                <a :href="article.hash" class="z-10 flex flex-col items-start justify-start w-full py-[65px] group">
                  <div class="flex flex-col items-start justify-start w-full">
                    <span class="flex items-end gap-[10px] w-full">
                      <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block transition duration-500 ease-out" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''"
                        x-html="article.author.name"></span>
                      <div class="w-full h-0.5 bg-black -translate-y-1.5 transition duration-300 ease-out delay-100 origin-left" :class="!sectionInView && canAnimate ? 'scale-x-0' : ''"></div>
                    </span>
                    <span class="text-[14px]/[21px] font-normal font-title transition duration-500 ease-out delay-100" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="article.author.job_title"></span>
                  </div>
                  <div class="w-full flex items-end justify-end icon my-[30px] transition duration-500 ease-out will-change-[opacity]" :class="!sectionInView && canAnimate ? 'opacity-0 scale-95' : ''">
                    <div class="[&>svg]:w-[46.7vw] [&>svg]:group-hover:drop-shadow-xl [&>svg]:group-hover:scale-105 [&>svg]:transition [&>svg]:duration-500
                    [&>svg]:ease-out" x-html="article.icon.rect"></div>
                  </div>
                  <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title transition duration-500 ease-out delay-300" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="article.title"></h3>

                  <div class="duration-500 ease-out inline-blocktransition delay-[400ms]" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''">
                    <div x-cloak class="flex items-center mt-[25px] gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </div>
            </template>
          </div>

          <script>
            function rowThree() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
        </div>

        <!-- Second row of 3 articles -->
        <div class="hidden md:block relative border-t-2 border-b-2 border-black bg-[#EEEEEE] z-20" x-data="rowFour()" x-intersect.margin.-300px.once="sectionInView = true">
          <div class="container relative">
            <div class="flex justify-between md:gap-[25px] lg:gap-[65px]">
              <template x-for="(article, index) in thirdRow" :key="index">
                <div class="relative z-20 flex-[33%] transition duration-500 ease-out will-change-[opacity]" :class="!sectionInView && canAnimate ? 'opacity-0 scale-95' : ''" x-bind:style="'order: ' + index + '; transition-delay:' + index + '00ms;'">
                  <a :href="article.hash" class="z-10 flex flex-col items-start justify-start w-full py-[65px] group">
                    <div class="flex flex-col items-start justify-start w-full">
                      <span class="flex items-end gap-[10px] w-full">
                        <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                          x-html="article.author.name"></span>
                        <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                      </span>
                      <span class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></span>
                    </div>
                    <div
                      class="w-full flex items-center justify-center my-[30px] [&>svg]:w-full [&>svg]:transition [&>svg]:group-hover:scale-105 [&>svg]:group-hover:drop-shadow-xl [&>svg]:duration-500 [&>svg]:ease-out"
                      x-html="article.icon.square"></div>
                    <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title" x-html="article.title"></h3>
                    <div x-cloak class="flex items-center mt-[25px] gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </a>
                </div>
              </template>
              <div class="w-0.5 order-[0] bg-black shrink-0 top-0 z-10"></div>
              <div class="w-0.5 order-1 bg-black shrink-0 top-0 z-10"></div>
            </div>
          </div>

          <script>
            function rowFour() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
        </div>

        <!-- Last row of 2 articles -->
        <div class="container hidden md:block" x-data="rowFive()" x-intersect.margin.-175px.once="sectionInView = true">
          <div class="relative flex justify-between gap-[65px] md:gap-[128px]">
            <template x-for="article in fourthRow">
              <div class="relative z-0 w-[calc(50%-64px)] tile flex items-center">
                <a :href="article.hash" class="z-10 flex flex-col items-start justify-start w-full py-[65px] group">
                  <div class="flex flex-col items-start justify-start w-full">
                    <template x-if="article.author">
                      <span class="flex items-end gap-[10px] w-full">
                        <span
                          class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block transition duration-500 ease-out"
                          :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''"
                          x-html="article.author.name"></span>
                        <div class="w-full h-0.5 bg-black -translate-y-1.5 transition duration-300 ease-out delay-100 origin-left"
                          :class="!sectionInView && canAnimate ? 'scale-x-0' : ''"></div>
                      </span>
                      <span class="text-[14px]/[21px] font-normal font-title transition duration-500 ease-out delay-100" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="article.author.job_title"></span>
                    </template>
                  </div>
                  <div class="w-full flex items-end justify-end icon my-[30px] transition duration-500 ease-out will-change-[opacity]"
                    :class="!sectionInView && canAnimate ? 'opacity-0 scale-95' : ''">
                    <div class="[&>svg]:w-[47vw] [&>svg]:group-hover:drop-shadow-xl [&>svg]:group-hover:scale-105 [&>svg]:transition [&>svg]:duration-500
                    [&>svg]:ease-out" x-html="article.icon.rect"></div>
                  </div>
                  <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title transition duration-500 ease-out delay-300"
                    :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="article.title"></h3>
          
                  <div class="duration-500 ease-out inline-blocktransition delay-[400ms]"
                    :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''">
                    <div x-cloak class="flex items-center mt-[25px] gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </div>
            </template>
          </div>
          <script>
            function rowFive() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
        </div>

        <!-- Mobile Articles -->
        <div class="block md:hidden relative border-t-2 border-black bg-[#EEEEEE] z-20" x-data="mobileRow"  x-intersect.margin.-175px.once="sectionInView = true">
          <div class="relative">
            <div class="relative flex w-full px-5 overflow-x-auto snap-x snap-mandatory no-scrollbar">
              <template x-for="(article, index) in articles" :key="index">
                <div class="relative z-20 w-[80vw] max-w-[400px] shrink-0 first:boreder-l-2 border-x border-black snap-center transition duration-500 ease-out will-change-[opacity]" :class="!sectionInView && canAnimate ? 'opacity-0 translate-x-5' : ''" x-bind:style="'order: ' + index + '; transition-delay:' + index + '00ms;'">
                  <a :href="article.hash"  class="z-10 flex flex-col items-start h-full justify-center w-full py-[65px] px-5 sm:px-10 no-underline">
                    <template x-if="article.author">
                      <div class="flex flex-col items-start justify-start w-full">
                        <span class="flex items-end gap-[10px] w-full">
                          <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block"
                            x-html="article.author.name"></span>
                          <div class="w-full h-0.5 bg-black -translate-y-1.5"></div>
                        </span>
                        <span class="text-[14px]/[21px] font-normal font-title" x-html="article.author.job_title"></span>
                      </div>
                    </template>
                    <div class="w-full flex items-center justify-center my-[30px] [&>svg]:w-full" x-html="article.icon.square"></div>
                    <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title" x-html="article.title"></h3>
                    <div x-cloak class="flex items-center mt-[25px] gap-[5px] group">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </a>
                </div>
              </template>
            </div>
          </div>
          <script>
            function mobileRow() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
          </div>
        </div>

        <!-- Last Lead Article -->
        <div class="border-t-2 border-black">
          <div class="container"  x-data="lastRow()" x-intersect.margin.-175px.once="sectionInView = true">
            <div class="grid grid-cols-12">
              <div class="relative flex items-center justify-start col-span-12 py-[60px] md:py-10 md:col-span-6">
                <div
                  class="bg-[#ddecbc] absolute top-0 right-1/2 translate-x-1/2 md:-translate-x-0 md:right-0 w-screen md:w-[50vw] h-full z-[1] md:border-t-0">
                </div>
          
                <div class="relative z-10 flex-col items-end justify-start w-full pl-10 md:w-11/12 lg:w-3/4">
                  <span class="absolute top-0 left-0 font-body text-[56px]/[55px] font-bold lg:-translate-x-10 transition duration-500 ease-out delay-100" :class="!sectionInView && canAnimate ? 'opacity-0' : ''">“</span>
                  <p class="font-title text-[24px]/[31px] font-normal tracking-[.48px] transition duration-500 ease-out delay-200" :class="!sectionInView && canAnimate ? 'opacity-0 -translate-y-4' : ''">
                    That openness and willingness to put the safety and interests of people first is how we built the trust we now enjoy.
                    And it is how we will approach new opportunities to set better standards for the internet.
                  </p>
                  <div
                    class="flex items-center justify-start w-full gap-[22px] mt-[95px] transition duration-500 ease-out delay-[400ms] bg-[#ddecbc]"
                    :class="!sectionInView && canAnimate ? 'opacity-0' : ''">
                    <img src="/headshots/mitchell-baker.jpg" alt="Head shot of Mitchell Baker" width="75" height="75" loading="lazy" class="w-[75px] shrink-0 mix-blend-multiply grayscale rounded-full" />
                    <div class="flex flex-col items-start justify-start w-full gap-5">
                      <div class="flex flex-col items-start justify-start w-full shrink-0">
                        <span class="flex items-end gap-[10px] w-full">
                          <h4 class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block">Mitchell Baker
                          </h4>
                        </span>
                        <h5 class="text-[14px]/[21px] font-normal font-title">CEO</h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            
              <div class="relative z-0 col-span-12 md:col-span-6">
                <a :href="lastArticle.hash"
                  class="z-10 no-underline group flex flex-col items-start justify-start w-full py-[65px] md:pl-[65px]">
                  <template x-if="lastArticle.author">
                    <div class="flex flex-col items-start justify-start w-full">
                      <span class="flex items-end gap-[10px] w-full">
                        <span
                          class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title shrink-0 inline-block transition duration-500 ease-out"
                          :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''"
                          x-html="lastArticle.author.name"></span>
                        <div class="w-full h-0.5 bg-black -translate-y-1.5 transition duration-300 ease-out delay-100 origin-left"
                          :class="!sectionInView && canAnimate ? 'scale-x-0' : ''"></div>
                      </span>
                      <span class="text-[14px]/[21px] font-normal font-title transition duration-500 ease-out delay-100"
                        :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''"
                        x-html="lastArticle.author.job_title"></span>
                    </div>
                  </template>
                  <div class="w-full flex items-end justify-start my-[30px] transition duration-500 ease-out will-change-[opacity] "
                    :class="!sectionInView && canAnimate ? 'opacity-0 scale-95' : ''">
                    <div
                      class="[&>svg]:w-[100vw] [&>svg]:md:w-[46.7vw] [&>svg]:group-hover:drop-shadow-xl [&>svg]:group-hover:scale-105 [&>svg]:transition [&>svg]:duration-500 [&>svg]:ease-out"
                      x-html="lastArticle.icon.rect"></div>
                  </div>
                  <h3 class="text-[24px]/[26px] tracking-[.48px] font-bold font-title transition duration-500 ease-out delay-300"
                    :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''" x-html="lastArticle.title"></h3>
                
                  <div class="duration-500 ease-out inline-blocktransition delay-[400ms]"
                    :class="!sectionInView && canAnimate ? 'opacity-0 -translate-x-4' : ''">
                    <div x-cloak class="flex items-center mt-[25px] gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <script>
            function lastRow() {
              return {
                sectionInView: false,
                canAnimate: true,

                init() {
                  // if scroll is below the section when page loads, set inView to true so that it doesn't trigger the animation
                  if (window.scrollY > this.$el.offsetTop) {
                    this.canAnimate = false;
                    this.sectionInView = true;
                  }
                }
              }
            }
          </script>
        </div>

        <script>
          function articles() {
            return {
              firstArticle: null,
              lastArticle: null,
              articles: null,
              firstRow: null,
              secondRow: null,
              thirdRow: null,
              fourthRow: null,

              init() {
                this.firstArticle = this.$store.articles.find(article => !article.content.lead_article)?.content;

                // Get the last article
                this.lastArticle = this.$store.articles[this.$store.articles.length - 1].content;

                // get all articles that are not the first or last article
                this.articles = this.$store.articles.filter(article => !article.content.lead_article && article.content.title !== this.firstArticle.title && article.content.title !== this.lastArticle.title).map(article => article.content);
                
                // get three articles with the width value of 'third'
                this.firstRow = this.articles.filter(article => article.width === 'third' && article.title !== this.firstArticle.title).slice(0, 3);

                // get two articles that have the width value of 'half' and not the first article
                this.secondRow = this.articles.filter(article => article.width === 'half' && article.title !== this.firstArticle.title).slice(0, 2);

                // get three articles that have the width value of 'third' and not in this.firstRow
                this.thirdRow = this.articles.filter(article => article.width === 'third' && article.title !== this.firstArticle.title && !this.firstRow.includes(article)).slice(0, 3);

                // get two articles that have the width value of 'half' and not in this.firstRow or this.secondRow
                this.fourthRow = this.articles.filter(article => article.width === 'half' && article.title !== this.firstArticle.title && !this.firstRow.includes(article) && !this.secondRow.includes(article)).slice(0, 2);
              }
            }
          }
        </script>
      </section>

      <!-- Video -->
      <section class="bg-[#89D5FF] w-full aspect-[1.25] px-4 md:aspect-[1.8] lg:aspect-[2.25] flex items-center border-t-2 border-black relative z-0" x-data="video()">
        <div class="container relative" x-ref="content" x-intersect.margin.-175px.once="inView = true">
          <div class="w-[95%] aspect-[2] lg:aspect-[3] bg-[#6fa2ff] absolute top-1/2 left-0 -translate-y-1/2 rounded-full transition duration-300 ease-out z-[-1]" :class="!inView && canAnimate ? 'opacity-0' : ''"></div>
          <div class="w-[44%] lg:w-[35%] aspect-[1.16] bg-[#5a7bff] absolute top-1/2 right-0 -translate-y-1/2 rounded-full transition duration-300 ease-out delay-300 z-[-1]" :class="!inView && canAnimate ? 'opacity-0 -translate-x-5': ''"></div>

          <!-- <img class="w-[38%] lg:w-[30%] aspect-[1] absolute top-1/2 right-0 -translate-y-1/2 rounded-full object-cover object-center transition duration-300 ease-out delay-[400ms]" :class="!inView && canAnimate ? 'opacity-0 -translate-x-5' : ''" src="/video-thumbnail.gif" alt="Video Thumbnail" loading="lazy" width="400" height="400"/> -->

          <h2 class="font-title text-[16px]/[17px] tracking-[0.48px] sm:text-[36px]/[38px] md:tracking-[1.08px] font-bold w-5/12 sm:ml-10 md:w-4/12 md:ml-[65px] transition duration-300 ease-out delay-200 z-10" :class="!inView && canAnimate ? 'opacity-0 -translate-x-5' : ''">This is the title of a State of Mozilla video</h2>
          
          <div class="absolute -translate-x-1/2 top-1/2 left-1/2 -translate-y-1/2 w-[30px]  md:w-[66px] transition duration-300 ease-out delay-500" :class="!inView && canAnimate ? 'opacity-0 scale-90' : ''">
            <button @click="play" class=" text-black hover:text-[#89D5FF] transition duration-150 ease-out hover:scale-110 w-full">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 66 76">
                <path fill="currentColor" d="M66 38 0 76V0l66 38Z" />
              </svg>
              <span class="sr-only">Play Video</span>
            </button>
          </div>
        </div>

        <div class="absolute top-0 left-0 w-full h-full transition duration-300 ease-out bg-black cursor-pointer" :class="!playing && !loading ? 'opacity-0 pointer-events-none' : ''">
          <div class="absolute w-32 h-32 origin-center border-l-4 border-white border-dashed rounded-full top-[calc(50%-4rem)] left-[calc(50%-4rem)] loader" :class="loading && !playing ? '' : 'hidden'"></div>
          <div id="player" class="w-full h-full [&>iframe]:w-full [&>iframe]:h-full"></div>
        </div>
        <script>
          function video() {
            return {
              playing: false,
              loading: false,
              inView: false,
              canAnimate: true,

              init() {
                
                // if scroll is below the section when page loads, set inView to 1000 so that it doesn't trigger the animation
                if (window.scrollY > this.$el.offsetTop) {
                  this.canAnimate = false;
                  this.lineInView = true;
                }
              },

              play() {
                this.loading = true;

                const player = new Player('player', {
                  id: 811383613,
                  loop: false,
                  fullscreen: true,
                  allowfullscreen: true,
                });

                // when the player is ready, play the video
                player.ready().then(() => {
                  this.loading = false;
                  this.playing = true;
                  player.play();
                });
              }
            }
          } 
        </script>
      </section>

      <!-- Why Mozilla -->
      <section class="bg-[#CEEAEB] relative py-[100px] md:pl-10 md:py-[150px] border-t-2 border-black flex flex-col gap-[100px] md:gap-[120px]" x-data="testimonies()"  x-intersect.margin.-50%="watchScroll">
        <div x-ref="parentSection" class="absolute top-0 left-0 hidden w-10 h-full bg-white md:block">
          <div x-ref="translateDiv" class="absolute top-0 left-0 w-full h-10 bg-black"></div>
        </div>

        <!-- Choose with Mozilla -->
        <div class="flex flex-col items-start justify-start gap-8 px-0 md:container md:px-5 md:flex-row" x-intersect.margin.-175px.once='inView = 1'>
          <div class="container md:!max-w-none md:mx-0 w-full px-5 md:px-0 md:w-1/3 lg:w-1/4 transition duration-500 ease-out" :class="inView < 1 && canAnimate ? 'opacity-0 -translate-y-5' : ''">
            <h2 class="text-[36px]/[38px] font-title font-bold mb-[15px]">Why I <br/>choose Mozilla</h2>
            <p class="font-body font-normal text-[16px]/[21px] tracking-[.32px]">At Mozilla, we have big ambitions for the future, we want to build impactful products that are different — that are built with more respect for the people using them and help us explore new forms of openness. It’s going to take hard
            work that Mozilla is uniquely suited to take on. It’s why we’re here. It’s who we are. And it’s our future.</p>
          </div>
          <div class="hidden md:w-1/3 lg:w-1/4 md:block">
            <div class="w-[68vw] border-black grid md:grid-cols-2 lg:grid-cols-3 testimonies__grid overflow-hidden pb-0.5">
              <template x-for="(item, index) in whyMozilla">
                <a :href="item.hash" class="bg-[#EEEEEE] p-5 xl:p-[65px] border-2 -mr-0.5 -mb-0.5 border-black transition duration-500 ease-out group" :class="inView < 1 && canAnimate ? 'opacity-0 scale-90' : ''" :style="'transition-delay:' + index + '00ms;'">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-contain object-center w-full transition duration-500 ease-out aspect-square grayscale bg-blend-darken group-hover:scale-105 group-hover:drop-shadow-lg" loading="lazy"
                      width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <div x-cloak :href="item.hash" class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </template>
            </div>
          </div>

          <div class="w-full md:hidden">
            <div class="relative flex w-full gap-5 pr-5 overflow-x-auto snap-x snap-mandatory no-scrollbar">
              <div class="lead-block shrink-0"></div>
              <template x-for="(item, index) in whyMozilla">
                <a :href="item.hash" class="bg-[#EEEEEE] p-5 border-1 border-black snap-center shrink-0 max-w-[300px] w-[75%] transition duration-500 ease-out group" :class="inView < 1 && canAnimate ? 'opacity-0 translate-x-5' : ''" :style="'transition-delay:' + index + '00ms;'">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-cover object-center w-full transition duration-500 ease-out aspect-square grayscale bg-blend-darken group-hover:scale-105 group-hover:drop-shadow-lg" loading="lazy" width="200"
                      height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <div x-cloak  class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </template>
            </div>
          </div>
        </div>

        <!-- Act with Mozilla -->
        <div class="flex flex-col items-start justify-start gap-8 px-0 md:container md:px-5 md:flex-row" x-intersect.margin.-175px.once='inView = 2'>
          <div class="container md:!max-w-none md:mx-0 w-full px-5 md:px-0 md:w-1/3 lg:w-1/4 transition duration-500 ease-out" :class="inView < 2 && canAnimate ? 'opacity-0 -translate-y-5' : ''">
            <h2 class="text-[36px]/[38px] font-title font-bold mb-[15px]">Mozilla's Africa Innovation Mradi’s <br/>'In Real Life Fund'</h2>
            <p class="font-body font-normal text-[16px]/[21px] tracking-[.32px]">Mozilla's Africa Innovation Mradi’s 'In Real Life Fund' (IRL Fund) is a transformative initiative aimed at advancing digital and human rights in Africa, with a focus on Eastern and Southern Africa. The inaugural cohort of the IRL Fund, announced on Africa Day in 2023, includes a diverse range of projects. These projects range from creating virtual support networks for LGBTQI+ individuals to programs aimed at equipping women with digital skills.</p>
          </div>
          <div class="hidden md:w-1/3 lg:w-1/4 md:block">
            <div class="w-[68vw] border-black grid md:grid-cols-2 lg:grid-cols-3 testimonies__grid overflow-hidden pb-0.5">
              <template x-for="(item, index) in actMozilla">
                <a :href="item.hash" class="bg-[#EEEEEE] p-5 xl:p-[65px] border-2 -mr-0.5 -mb-0.5 border-black transition duration-500 ease-out group" :class="inView < 2 && canAnimate ? 'opacity-0 scale-90' : ''" :style="'transition-delay:' + index + '00ms;'">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-contain object-center w-full aspect-square grayscale bg-blend-darken max-w-[200px] self-center transition duration-500 ease-out group-hover:scale-105 group-hover:drop-shadow-lg" loading="lazy"
                      width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <div x-cloak class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </template>
            </div>
          </div>

          <div class="w-full md:hidden">
            <div class="relative flex w-full gap-5 pr-5 overflow-x-auto snap-x snap-mandatory no-scrollbar">
              <div class="lead-block shrink-0"></div>
              <template x-for="(item, index) in actMozilla">
                <a :href="item.hash" class="bg-[#EEEEEE] p-5 border-1 border-black snap-center shrink-0 max-w-[300px] w-[75%] transition duration-500 ease-out" :class="inView < 2 && canAnimate ? 'opacity-0 translate-x-5' : ''" :style="'transition-delay:' + index + '00ms;'">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-contain object-center w-full aspect-square grayscale bg-blend-darken" loading="lazy"
                      width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <div x-cloak :href="item.hash" class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </template>
            </div>
          </div>
        </div>

        <!-- Build with Mozilla -->
        <div class="flex flex-col items-start justify-start gap-8 px-0 md:container md:px-5 md:flex-row" x-intersect.margin.-175px.once='inView = 3'>
          <div class="container md:!max-w-none md:mx-0 w-full px-5 md:px-0 md:w-1/3 lg:w-1/4 transition duration-500 ease-out" :class="inView < 3 && canAnimate ? 'opacity-0 -translate-y-5' : ''">
            <h2 class="text-[36px]/[38px] font-title font-bold mb-[15px]">Why I build <br/>with Mozilla</h2>
            <p class="font-body font-normal text-[16px]/[21px] tracking-[.32px]">Mozilla Ventures, an impact fund from Mozilla, represents our strategic initiative to invest in and support innovative startups that align with our core values directly connected to the Mozilla Manifesto. This fund aims to nurture a new
            generation of technology companies that prioritize public benefit alongside profit, thereby fostering a healthier internet ecosystem.</p>
          </div>
          <div class="hidden md:w-1/3 lg:w-1/4 md:block">
            <div class="w-[68vw] border-black grid md:grid-cols-2 lg:grid-cols-3 testimonies__grid overflow-hidden pb-0.5">
              <template x-for="(item, index) in buildMozilla">
                <a :href="item.hash"
                  class="bg-[#EEEEEE] p-5 xl:p-[65px] border-2 -mr-0.5 -mb-0.5 border-black transition duration-500 ease-out group"
                  :class="inView < 1 && canAnimate ? 'opacity-0 scale-90' : ''" :style="'transition-delay:' + index + '00ms;'">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-contain object-center w-full transition duration-500 ease-out aspect-square grayscale bg-blend-darken group-hover:scale-105 group-hover:drop-shadow-lg"
                      loading="lazy" width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <div x-cloak :href="item.hash" class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </template>
            </div>
          </div>

          <div class="w-full md:hidden">
            <div class="relative flex w-full gap-5 pr-5 overflow-x-auto snap-x snap-mandatory no-scrollbar">
              <div class="lead-block shrink-0"></div>
              <template x-for="(item, index) in buildMozilla">
                <a :href="item.hash"
                  class="bg-[#EEEEEE] p-5 border-1 border-black snap-center shrink-0 max-w-[300px] w-[75%] transition duration-500 ease-out group"
                  :class="inView < 1 && canAnimate ? 'opacity-0 translate-x-5' : ''" :style="'transition-delay:' + index + '00ms;'">
                  <div class="flex flex-col items-start justify-start gap-8">
                    <img :src="item.author.image" :alt="item.author.name"
                      class="object-contain object-center w-full transition duration-500 ease-out aspect-square grayscale bg-blend-darken group-hover:scale-105 group-hover:drop-shadow-lg"
                      loading="lazy" width="200" height="200">
                    <h3 x-html="item.author.name" class="text-[24px]/[26px] tracking-[.48px] font-bold font-title"></h3>
                    <div x-cloak class="flex items-center gap-[5px]">
                      <span class="text-[16px]/[28px] font-bold relative font-title">
                        Read
                        <span
                          class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                      </span>
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12"
                        class="w-[14px] transition duration-150 ease-out group-hover:translate-x-1">
                        <path fill="#000"
                          d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                      </svg>
                    </div>
                  </div>
                </a>
              </template>
            </div>
          </div>
        </div>

        <script>
          function testimonies() {
            return {
              whyMozilla: null,
              actMozilla: null,
              buildMozilla: null,
              inView: 0,
              canAnimate: true,

              init() {
                // get testimonies tagged with 'choose'
                this.whyMozilla = this.$store.testimonies.filter(testimony => testimony.content.tag.includes('choose')).map(testimony => testimony.content);

                this.actMozilla = this.$store.testimonies.filter(testimony => testimony.content.tag.includes('act')).map(testimony => testimony.content);

                this.buildMozilla = this.$store.testimonies.filter(testimony => testimony.content.tag.includes('build')).map(testimony => testimony.content);

                // if scroll is below the section when page loads, set inView to 1000 so that it doesn't trigger the animation
                if (window.scrollY > this.$el.offsetTop) {
                  this.canAnimate = false;
                  this.lineInView = 1000;
                }
                
                setTimeout(() => {
                  this.dynamicGridWidth();
                  this.setPosition();
                }, 10);

                window.addEventListener('resize', () => {
                  this.dynamicGridWidth();
                });
              },
              watchScroll() {
                window.addEventListener('scroll', () => {
                  this.setPosition();
                });
              },
              setPosition() {
                const parentSection = this.$refs.parentSection.parentNode;
                const translateDiv = this.$refs.translateDiv;

                const parentRect = parentSection.getBoundingClientRect();
                const translateDivRect = translateDiv.getBoundingClientRect();
                const maxScrollHeight = ((parentRect.height - translateDivRect.height) / parentRect.height) * 100;

                let translate = (window.scrollY - parentSection.offsetTop) / ((parentSection.offsetHeight - translateDivRect.height) - window.innerHeight / 2) * 100;

                if (translate < 0) {
                  translate = 0;
                } else if (translate > maxScrollHeight) {
                  translate = maxScrollHeight;
                }

                translateDiv.style.top = `${translate}%`;

              },
              dynamicGridWidth() {
                const grid = document.querySelectorAll('.testimonies__grid');
                const leadBlock = document.querySelectorAll('.lead-block');

                grid.forEach(element => {
                  const gridLeft = element.getBoundingClientRect().left;
                  element.style.width = `calc(100vw - ${gridLeft}px)`;
                });

                leadBlock.forEach(element => {
                  // make this the space between the .container and the left side of the screen
                  const containerLeft = document.querySelector('.container').getBoundingClientRect().left;
                  element.style.width = `${containerLeft}px`;
                });
              }
            }
          }
        </script>
      </section>

      <!-- Links -->
      <section class="bg-[#CEC2FF] py-[100px] md:py-[150px]" x-data="links()" x-intersect.margin.-175px.once='inView = true'>
        <div class="container flex flex-col items-start justify-between gap-14 md:gap-20 md:flex-row">
          <div class="w-full transition duration-500 ease-out md:w-1/2" :class="!inView && canAnimate ? 'opacity-0 -translate-x-5' : ''">
            <h2 class="font-title text-[56px]/[56px] font-bold">Join us in creating a better internet</h2>
            <p class="font-body text-[20px]/[24px] font-normal mt-10 md:mt-4">We know the internet can be better. More joyful. More trustworthy. Safer, and more secure. But we can only get there if we work together. We invite you to join us as this next chapter begins.</p>
          </div>
          <div class="flex flex-col items-start justify-start w-full gap-5 md:w-1/2">
            <template x-for="(link, index) in links">
              <a :href="link.url" target="_blank" class="flex items-center w-full gap-5 pb-5 transition duration-500 ease-out border-b border-black md:gap-8 group" :class="!inView && canAnimate ? 'opacity-0 -translate-x-5' : ''" :style="'transition-delay:' + index + '00ms;'">
                <span class="grow text-[18px] md:text-[24px] font-title font-bold" x-text="link.title"></span>
  
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 13 12" class="w-[35px] shrink-0 transition duration-150 ease-out group-hover:translate-x-1">
                  <path fill="#000" d="M6.69318.36364 12.4205 6.0909 6.69318 11.8182 5.375 10.5114l3.46023-3.46026H.72727V5.13068h8.10796L5.375 1.67614 6.69318.36364Z" />
                </svg>
              </a>
            </template>
          </div>
        </div>
        <script>
          function links() {
            return {
              inView: false,
              canAnimate: true,
              links: [
                {
                  title: 'Mozilla Manifesto',
                  url: 'https://www.mozilla.org/en-US/about/manifesto/',
                },
                {
                  title: 'Press Center',
                  url: 'https://blog.mozilla.org/press/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company',
                },
                {
                  title: 'Corporate Blog',
                  url: 'https://blog.mozilla.org/en/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company',
                },
                {
                  title: 'Careers',
                  url: 'https://www.mozilla.org/en-US/careers/',
                },
                {
                  title: 'Contact',
                  url: 'https://www.mozilla.org/en-US/contact/',
                },
                {
                  title: 'Donate',
                  url: 'https://foundation.mozilla.org/en/?form=donate&c_id=7014x000000eQOH&utm_source=mozilla.org&utm_campaign=moco&utm_medium=referral&utm_content=footer',
                },
              ],

              init() {
                // if scroll is below the section when page loads, set inView to 1000 so that it doesn't trigger the animation
                if (window.scrollY > this.$el.offsetTop) {
                  this.canAnimate = false;
                  this.lineInView = true;
                }
              }
            }
          }
        </script>
      </section>

      <template x-teleport="body">
        <div id="modal-container" class="fixed top-0 left-0 z-20 table w-full h-full transform" x-show="showModal" :class="showModal ? 'active' : ''" x-cloak>
          <div class="absolute top-0 left-0 z-0 w-full h-full transition bg-black opacity-0 modal-background"></div>
          <div class="relative z-20 h-screen overflow-x-hidden overflow-y-scroll transition duration-500 ease-out" :class="showModal ? 'opacity-100' : 'opacity-0'" x-ref="modal">
            <div class="relative bg-white modal">
              <div class="md:w-[90vw] mx-auto block text-[#111111] relative origin-top" x-ref="modalContainer" @click.outside="closeModal">
                <template x-if="previousArticle">
                  <a :href="previousArticle.hash" @click="checkIndex, transitionModals(previousArticle.hash)"
                    class="hidden lg:block fixed left-0 z-20 p-5 -translate-y-1/2 max-w-[230px] bg-white border border-l-0 border-black top-1/2 group transition duration-500 ease-out" :class="!showModal ? '!opacity-0 !translate-x-full delay-[5s]' : ''">
                    <div class="flex items-center gap-5">
                      <svg width="35" height="35" viewBox="0 0 47 48" fill="none" xmlns="http://www.w3.org/2000/svg"
                        class="transition duration-150 ease-out rotate-90 group-hover:-translate-x-2 shrink-0">
                        <path
                          d="M46.5455 24.7727L23.6364 47.6818L0.727271 24.7727L5.95454 19.5L19.7955 33.3409L19.7955 0.909086L27.4773 0.909086L27.4773 33.3409L41.2955 19.5L46.5455 24.7727Z"
                          fill="black" />
                      </svg>
                      <template x-if="$store.modalType == 'article'">
                        <div class="flex flex-col items-start justify-start gap-[10px]">
                          <div class="w-[130px]" x-html="previousArticle.icon.rect"></div>
                          <span class="font-title text-[12px]/[12px] font-bold" x-html="previousArticle.title"></span>
                          <span class="font-title text-[10px]/[10px] font-normal" x-html="nextArticle.author.name"></span>
                        </div>
                      </template>
                      <template x-if="$store.modalType == 'testimony'">
                        <div class="flex flex-col items-start justify-start gap-[10px]">
                          <img class="w-[130px] inline-block grayscale mix-blend-darken" :src="previousArticle.author.image" width="130"
                            height="130" loading="lazy" />
                          <span class="font-title text-[12px]/[12px] font-bold" x-html="previousArticle.author.name"></span>
                        </div>
                      </template>
                    </div>
                  </a>
                </template>

                <!-- Mobile Previous Button -->
                <template x-if="previousArticle">
                  <a :href="previousArticle.hash" id="previousArticle" x-ref="mobilePrev" @click="checkIndex" class="md:hidden absolute w-[100vw] scale-[.8] origin-top-right top-0 h-screen opacity-50 flex items-start justify-end">
                    <div class="relative flex-col shrink-0 lg:flex-row inline-flex items-start w-full md:px-[65px] pt-[150px] md:py-[175px] overflow-hidden" :style="'background-color:' + getSVGPath(previousArticle.icon ? previousArticle.icon.square : placeHolderSVG)">
                      <div class="container">
                        <div class="w-full mx-auto lg:w-3/4">
                          <div class="flex flex-col items-start w-full lg:w-3/4">
                            <template x-if="previousArticle.author">
                              <div class="flex items-center gap-5 mb-[48px] w-full">
                                <div class="flex flex-col items-start justify-start w-full">
                                  <span class="flex items-end gap-[10px] w-full">
                                    <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title md:shrink-0 inline-block"
                                      x-html="previousArticle.author.name"></span>
                                    <div class="hidden md:inline-block w-full h-0.5 bg-black -translate-y-1.5"></div>
                                  </span>
                                  <span class="text-[14px]/[21px] font-normal font-title"
                                    x-html="previousArticle.author.job_title"></span>
                                </div>
                              </div>
                            </template>
                
                            <h2 class="text-[36px]/[38px] md:text-[64px]/[64px] font-bold font-title" x-show="showModal"
                              x-html="previousArticle.title"></h2>
                            <h3 class="font-title text-[24px]/[31px] tracking-[.48px] font-normal mt-10 md:mt-[80px]" x-html="previousArticle.excerpt"></h3>

                            <template x-if="previousArticle.modal_style == 'short'">
                              <div class=" modal-body" x-html="previousArticle.body"></div>
                            </template>
                          </div>
                        </div>
                      </div>
                      <template x-if="$store.modalType == 'article'">
                        <div class="md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] mt-10" x-html="previousArticle.icon.square"></div>
                      </template>
                      
                      <template x-if="previousArticle.tag && previousArticle.tag == 'choose'">
                        <div
                          class="md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] mt-10 rounded-tl-[200px] aspect-square overflow-hidden bg-white"
                          x-ref="modalIcon">
                          <div class="bg-[#b3dbde] w-full h-full">
                            <img :src="previousArticle.author.image" alt="previousArticle.author-title" width="100%" height="100%" loading="lazy"
                              class="object-cover object-center w-full h-full grayscale mix-blend-multiply" />
                          </div>
                        </div>
                      </template>
                      
                      <template x-if="previousArticle.tag && previousArticle.tag != 'choose'">
                        <div class="md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] mt-10" x-ref="defaultIcon"
                          x-ref="modalIcon" x-html="placeHolderSVG"></div>
                      </template>
                    </div>
                  </a>
                </template>
                
                <template x-if="nextArticle">
                  <a :href="nextArticle.hash" @click="checkIndex, transitionModals(nextArticle.hash)" class="hidden lg:block fixed right-0 z-20 p-5 -translate-y-1/2 max-w-[230px] bg-white border border-r-0 border-black top-1/2 group transition duration-500 ease-out" :class="!showModal ? '!opacity-0 !translate-x-full delay-[5s]' : ''">
                    <div class="flex items-center gap-5">
                      <template x-if="$store.modalType == 'article'">
                        <div class="flex flex-col items-start justify-start gap-[10px]">
                          <div class="w-[130px]" x-html="nextArticle.icon.rect"></div>
                          <span class="font-title text-[12px]/[12px] font-bold" x-html="nextArticle.title"></span>
                          <span class="font-title text-[10px]/[10px] font-normal" x-html="nextArticle.author.name"></span>
                        </div>
                      </template>
                      <template x-if="$store.modalType == 'testimony'">
                        <div class="flex flex-col items-start justify-start gap-[10px]">
                          <img class="w-[130px] inline-block grayscale mix-blend-darken" :src="nextArticle.author.image" width="130"
                            height="130" loading="lazy" />
                          <span class="font-title text-[12px]/[12px] font-bold" x-html="nextArticle.author.name"></span>
                        </div>
                      </template>
                      <svg width="35" height="35" viewBox="0 0 47 48" fill="none" xmlns="http://www.w3.org/2000/svg"
                        class="duration-150 ease-out -rotate-90 group-hover:translate-x-2 shrink-0">
                        <path
                          d="M46.5455 24.7727L23.6364 47.6818L0.727271 24.7727L5.95454 19.5L19.7955 33.3409L19.7955 0.909086L27.4773 0.909086L27.4773 33.3409L41.2955 19.5L46.5455 24.7727Z"
                          fill="black" />
                      </svg>
                    </div>
                  </a>
                </template>

                <!-- Mobile Next Button -->
                <template x-if="nextArticle">
                  <a :href="nextArticle.hash" id="nextArticle" @click="checkIndex" x-ref="mobileNext" class="md:hidden absolute w-[100vw] scale-[.8] origin-top-left top-0 overflow-hidden h-screen opacity-50 flex items-start justify-start">
                    <div class="relative flex-col w-full lg:flex-row inline-flex items-start shrink-0 md:px-[65px] pt-[150px] md:py-[175px] overflow-hidden" :style="'background-color:' + getSVGPath(nextArticle.icon ? nextArticle.icon.square : placeHolderSVG)">
                      <div class="container">
                        <div class="w-full mx-auto lg:w-3/4">
                          <div class="flex flex-col items-start w-full lg:w-3/4">
                            <template x-if="nextArticle.author">
                              <div class="flex items-center gap-5 mb-[48px] w-full">
                                <div class="flex flex-col items-start justify-start w-full">
                                  <span class="flex items-end gap-[10px] w-full">
                                    <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title md:shrink-0 inline-block"
                                      x-html="nextArticle.author.name"></span>
                                    <div class="hidden md:inline-block w-full h-0.5 bg-black -translate-y-1.5"></div>
                                  </span>
                                  <span class="text-[14px]/[21px] font-normal font-title"
                                    x-html="nextArticle.author.job_title"></span>
                                </div>
                              </div>
                            </template>
                    
                            <h2 class="text-[36px]/[38px] md:text-[64px]/[64px] font-bold font-title" x-show="showModal"
                              x-html="nextArticle.title"></h2>
                            <h3 class="font-title text-[24px]/[31px] tracking-[.48px] font-normal mt-10 md:mt-[80px]"
                              x-html="nextArticle.excerpt"></h3>
                    
                            <template x-if="nextArticle.modal_style == 'short'">
                              <div class="modal-body" x-html="nextArticle.body"></div>
                            </template>
                          </div>
                        </div>
                      </div>
                      <template x-if="$store.modalType == 'article'">
                        <div class="md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] mt-10" x-html="nextArticle.icon.square"></div>
                      </template>
                      <template x-if="nextArticle.tag && nextArticle.tag == 'choose'">
                        <div
                          class="md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] mt-10 rounded-tl-[200px] aspect-square overflow-hidden bg-white"
                          x-ref="modalIcon">
                          <div class="bg-[#b3dbde] w-full h-full">
                            <img :src="nextArticle.author.image" alt="nextArticle.author-title" width="100%" height="100%"
                              loading="lazy" class="object-cover object-center w-full h-full grayscale mix-blend-multiply" />
                          </div>
                        </div>
                      </template>
                      
                      <template x-if="nextArticle.tag && nextArticle.tag != 'choose'">
                        <div class="md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] mt-10"
                          x-ref="defaultIcon" x-ref="modalIcon" x-html="placeHolderSVG"></div>
                      </template>
                    </div>
                  </a>
                </template>
                
                <!-- Modal Header -->
                <div class="container absolute top-0 z-20 w-screen -translate-x-1/2 left-1/2 pt-[42px] pb-[20px] flex items-center justify-between bg-white md:bg-transparent">
                  <a href="/" class="w-[100px]">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 99 29" class="w-[100px]">
                      <g fill="#000000" clip-path="url(#header-a)">
                        <path d="M36.9066 12.885c-1.8103 0-2.9378 1.3793-2.9378 3.7675 0 2.1956.9889 3.8842 2.9081 3.8842 1.84 0 3.0467-1.5211 3.0467-3.9401 0-2.5607-1.3453-3.7116-3.017-3.7116Zm48.5195 6.384c0 .8163.3858 1.4656 1.4539 1.4656 1.2612 0 2.6065-.928 2.6907-3.0374-.5739-.0863-1.2067-.1675-1.7855-.1675-1.2612-.0051-2.3591.36-2.3591 1.7393Z" />
                        <path d="M0 0v29h98.9183V0H0Zm28.7804 23.042h-5.1883v-7.1449c0-2.1957-.7121-3.0374-2.1119-3.0374-1.7014 0-2.3891 1.2372-2.3891 3.012v4.4116h1.6473v2.7587H15.555v-7.1449c0-2.1957-.7124-3.0374-2.1119-3.0374-1.7013 0-2.389 1.2372-2.389 3.012v4.4116h2.3593v2.7587H5.8707v-2.7587h1.64694V13.108H5.8707v-2.7586h5.1834v1.9118c.7417-1.3489 2.0326-2.1652 3.7588-2.1652 1.7855 0 3.4275.8722 4.036 2.7282.6873-1.6886 2.0871-2.7282 4.036-2.7282 2.2204 0 4.2535 1.3793 4.2535 4.3862v5.8011h1.6469v2.7587h-.0049Zm7.9875.2787c-3.8133 0-6.4495-2.3885-6.4495-6.4398 0-3.712 2.196-6.7798 6.6425-6.7798 4.4462 0 6.6125 3.0627 6.6125 6.6073 0 4.0516-2.8536 6.6123-6.8055 6.6123Zm19.957-.2787H45.913l-.356-1.9119 6.8055-8.017h-3.8677l-.5491 1.9676-2.5521-.2842.4402-4.4471h10.8663l.2769 1.9118-6.865 8.0221h4.0063l.5785-1.9676 2.7996.2791-.7715 4.4472Zm7.0626 0h-3.7044v-4.5588h3.7044v4.5588Zm0-8.1338h-3.7044v-4.5588h3.7044v4.5588Zm2.3148 8.1338 5.3513-19.35537h3.4869L69.5892 23.042h-3.4869Zm7.1913 0 5.3463-19.35537h3.487L76.7756 23.042h-3.482Zm18.9924.2787c-1.6469 0-2.5521-.9838-2.7154-2.5302-.7121 1.293-1.9733 2.5302-3.9766 2.5302-1.7856 0-3.8133-.9838-3.8133-3.6308 0-3.1236 2.9378-3.8537 5.7622-3.8537.6873 0 1.3994.0304 2.0327.1116v-.4208c0-1.2931-.0298-2.8399-2.0327-2.8399-.7422 0-1.3157.0559-1.8945.3651l-.4006 1.43-2.8239-.3092.4847-2.921c2.166-.9026 3.2642-1.1509 5.2969-1.1509 2.6609 0 4.9114 1.4047 4.9114 4.305v5.5122c0 .7301.2769.9835.8507.9835.163 0 .3313-.0305.5194-.086l.0294 1.9115c-.6676.3701-1.4638.5934-2.2304.5934Z" />
                      </g>
                      <defs>
                        <clipPath id="header-a">
                          <path fill="#fff" d="M0 0h99v29H0z" />
                        </clipPath>
                      </defs>
                    </svg>
                    <span class="sr-only">Go to Mozilla.org</span>
                  </a>
                  <button @click="closeModal" class="inline-flex items-center justify-end gap-[13px] group">
                    <span class="text-[16px]/[28px] font-bold relative font-title ">
                      Back
                      <span
                        class="bottom-0 left-0 w-full h-0.5 bg-black absolute transition duration-150 ease-out group-hover:scale-x-0 origin-right"></span>
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-[24px] translate-y-0.5">
                      <path fill="#000" d="m13.41 11.9999 6.3-6.28996a1.00411 1.00411 0 0 0 0-1.42 1.0041 1.0041 0 0 0-1.42 0L12 10.5899 5.71 4.28994a1.0041 1.0041 0 0 0-1.42 1.42l6.3 6.28996-6.3 6.29a1.00027 1.00027 0 0 0-.21889.3255.99942.99942 0 0 0-.07691.3845c0 .1321.02614.2628.07691.3846a.9988.9988 0 0 0 .21889.3254.99777.99777 0 0 0 .32542.2189A.99944.99944 0 0 0 5 20.0057a.99944.99944 0 0 0 .38458-.0769.99777.99777 0 0 0 .32542-.2189l6.29-6.3 6.29 6.3c.093.0938.2036.1682.3254.2189a.99972.99972 0 0 0 .3846.0769c.132 0 .2627-.0261.3846-.0769a.99874.99874 0 0 0 .3254-.2189.99977.99977 0 0 0 .2958-.71c0-.132-.0261-.2627-.0769-.3845a1.00125 1.00125 0 0 0-.2189-.3255l-6.3-6.29Z" />
                    </svg>
                  </button>
                </div>
                
                <div class="origin-top" x-ref="activeModal">
                  <template x-if="$store.activeArticle.title">
                    <div class="relative flex-col z-10 lg:flex-row inline-flex items-start lg:items-center lg:px-8 md:px-[65px] pt-[150px] md:py-[175px] lg:py-28 md:min-h-screen w-full overflow-hidden lg:overflow-visible md:transition-colors duration-300 ease-out" id="modalMain" x-ref="modalHeroBackground">
                      <div class="container z-10">
                        <div class="w-full mx-auto lg:w-3/4">
                          <div class="flex flex-col items-start w-full lg:w-3/4">
                            <template x-if="$store.activeArticle.author">
                              <div class="flex items-center gap-5 mb-[48px] w-full">
                                <template x-if="showAuthorImage">
                                  <div class="items-start hidden transition duration-500 ease-out md:flex" :class="!showContent ? 'opacity-0 -translate-x-4 !delay-0 !duration-100' : ''">
                                    <template x-if="$store.activeArticle.author.multiple">
                                      <template x-for="image in $store.activeArticle.author.image">
                                        <div class="overflow-hidden bg-white rounded-full first:z-10 -mr-3 last:mr-0 w-[75px] shrink-0">
                                          <div class="relative w-[75px] shrink-0 -mr-4 first:z-10 !bg-opacity-100 modal-author-image">
                                            <img :src="image" alt="$store.activeArticle.author.name" width="75" height="75" loading="lazy" class=" w-fulll mix-blend-multiply grayscale"/>
                                            <div class="absolute top-0 left-0 w-full h-full bg-black opacity-40 mix-blend-soft-light"></div>
                                          </div>
                                        </div>
                                      </template>
                                    </template> 
                                    <template x-if="!$store.activeArticle.author.multiple">
                                      <div class="overflow-hidden bg-white rounded-full first:z-10 w-[75px] shrink-0">
                                        <div class="relative w-[75px] shrink-0 -mr-4 first:z-10 !bg-opacity-100 modal-author-image">
                                          <img :src="$store.activeArticle.author.image" alt="$store.activeArticle.author.name" width="75" height="75" loading="lazy"
                                            class=" w-fulll mix-blend-multiply grayscale" />
                                          <div class="absolute top-0 left-0 w-full h-full bg-black opacity-40 mix-blend-soft-light"></div>
                                        </div>
                                      </div>
                                    </template>
                                  </div>
                                </template>
                                <div class="flex flex-col items-start justify-start w-full">
                                  <span class="flex items-end gap-[10px] w-full">
                                    <span class="text-[16px]/[24px] tracking-[0.64px] font-semibold font-title md:shrink-0 inline-block transition duration-500 ease-out delay-100" :class="!showContent ? 'opacity-0  !delay-0 !duration-100' : ''" x-html="$store.activeArticle.author.name"></span>
                                    <div class="hidden md:inline-block w-full h-0.5 bg-black -translate-y-1.5 transition duration-500 ease-out delay-100 origin-left" :class="!showContent ? ' scale-x-0  !delay-0 !duration-100' : ''"></div>
                                  </span>
                                  <span class="text-[14px]/[21px] font-normal font-title transition duration-500 ease-out delay-150" :class="!showContent ? 'opacity-0  !delay-0 !duration-100' : ''" x-html="$store.activeArticle.author.job_title"></span>
                                </div>
                              </div>
                            </template>
                            
                            <h2 class="text-[36px]/[38px] md:text-[64px]/[64px] font-bold font-title transition duration-500 delay-200 ease-out" :class="!showContent ? 'opacity-0 -translate-x-4 !duration-100 !delay-0' : ''" x-show="showModal" x-html="$store.activeArticle.title"></h2>
                            <h3 class="font-title text-[24px]/[31px] tracking-[.48px] font-normal mt-10 md:mt-[80px] transition duration-500 delay-300 ease-out" :class="!showContent ? 'opacity-0 -translate-x-4  !delay-0 !duration-100' : ''" x-html="$store.activeArticle.excerpt"></h3>
                            
                            <template x-if="$store.activeArticle.modal_style == 'short'">
                                <div class="transition duration-500 ease-out delay-300 modal-body" :class="!showContent ? 'opacity-0 -translate-x-4' : ''" x-html="bodyFormat"></div>
                            </template>
                          </div>
                        </div>
                      </div>
                      <template x-if="!$store.activeArticle.tag">
                        <div class="mt-10 md:mt-0 md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] z-[-1] origin-center transition duration-500 delay-[400ms] ease-out" :class="!showContent ? 'opacity-0  scale-90  !delay-0 !duration-100' : ''" x-ref="modalIcon" x-html="$store.activeArticle.icon.square"></div>
                      </template>
                      <template x-if="$store.activeArticle.tag && $store.activeArticle.tag == 'choose'">
                        <div class="mt-10 md:mt-0 md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] z-[-1] rounded-tl-[200px] aspect-square overflow-hidden bg-white origin-center transition duration-500 delay-[400ms] ease-out" :class="!showContent ? 'opacity-0  scale-90  !delay-0 !duration-100' : ''"  x-ref="modalIcon">
                          <div class="bg-[#b3dbde] w-full h-full">
                            <img :src="$store.activeArticle.author.image" alt="$store.activeArticle.author-title" width="100%" height="100%" loading="lazy" class="object-cover object-center w-full h-full grayscale mix-blend-multiply" />
                          </div>
                        </div>
                      </template>
  
                      <template x-if="$store.activeArticle.tag && $store.activeArticle.tag != 'choose'">
                        <div class="mt-10 md:mt-0 md:absolute bottom-0 right-0 translate-x-[5vw] w-full md:w-[40vw] lg:w-[30vw] z-[-1] origin-center transition duration-500 delay-[400ms] ease-out" :class="!showContent ? 'opacity-0  scale-90  !delay-0 !duration-100' : ''" 
                          x-ref="defaultIcon" x-ref="modalIcon" x-html="placeHolderSVG"></div>
                      </template>
                    </div>
                  </template>
                  
                  <template x-if="$store.activeArticle">
                    <div>
                      <template x-if="$store.activeArticle.modal_style != 'short'">
                        <div class="bg-[#EEEEEE] z-10 md:px-[65px] lg:px-0 py-[95px] block w-full">
                          <div class="container">
                            <div class="mx-auto md:px-5 lg:w-3/4 modal-body" x-html="bodyFormat"></div>
                          </div>
                        </div>
                      </template>
                    </div>
                  </template>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>

      <script>
        function modalCheck() {
          return {
            showModal: false,
            bodyFormat: null,
            previousArticle: null,
            nextArticle: null,
            scrollPosition: 0,
            modalWidth: .8,
            modalWhiteSpace: 90,
            showAuthorImage: false,
            showContent: false,
            isMobile: window.innerWidth < 768 ? true : false,
            placeHolderSVG: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 427 437" class="w-full">< g clip- path="url(#default-icon)" ><path fill="#86C5C8" d="M0 200C0 89.5431 89.5431 0 200 0h235v437H0V200Z" /><rect width="567" height="328" x="44" y="54" fill="#EEE" opacity=".9" rx="164" /></g><defs><clipPath id="default-icon"><path fill="#fff" d="M0 0h435v437H0z" /></clipPath></defs></svg>',

            init() {
              // if window.location.hash is not empty, open the modal
              if (window.location.hash) {
                this.openModal(window.location.hash);
                this.checkImage();
              }

              // Watch if the hash changes
              window.addEventListener('hashchange', (event) => {
                if (event.srcElement.location.hash) {
                  this.openModal(event.srcElement.location.hash);
                  this.checkImage();
                }
              });
            },
            openModal(value) {
              if (!this.showModal) {
                this.scrollPosition = window.scrollY;
              }

              // get the fill of the first path in the SVG and make it the background color of the modal hero
              setTimeout(() => {
                const svg = this.$refs.modalIcon ? this.$refs.modalIcon.querySelector('svg') : this.placeHolderSVG;
                this.showContent = true;

                this.checkImage();
                
                if (svg) {
                  let fillColor = null;
                  // if svg is a string
                  if (typeof svg === 'string') {
                    fillColor = this.getSVGPath(svg);
                  } else {
                    // get the first path in the SVG
                    const path = svg.querySelector('path');
                    fillColor = this.hexToRGBA(path.getAttribute('fill'), 0.4);
                  }

                  this.$refs.modalHeroBackground.style.backgroundColor = fillColor;
                  this.$refs.modal.querySelectorAll('.modal-author-image').forEach((image) => {
                    image.style.backgroundColor = fillColor;
                  });
                } else {
                  this.$refs.modalHeroBackground.style.backgroundColor = '#CEEAEB';
                  this.$refs.modal.querySelectorAll('.modal-author-image').forEach((image) => {
                    image.style.backgroundColor = '#CEEAEB';
                  });
                }
              }, 50);

              // Mobile animations
              if (this.isMobile) {
                this.swipeModals();
                
                setTimeout(() => {
                  this.$refs.activeModal.style.transform = `scale(${this.modalWidth})`;

                  if (this.$refs.mobilePrev) {
                    this.$refs.mobilePrev.style.right = `${this.modalWhiteSpace}vw`;
                  }
                  if (this.$refs.mobileNext) {
                    this.$refs.mobileNext.style.left = `${this.modalWhiteSpace}vw`;
                  }

                  
                  // watch scroll and change the width of the modal till it reaches 100
                  this.$refs.modal.addEventListener('scroll', (el) => {
                    const scrollPercent = (el.target.scrollTop / (el.target.scrollHeight - el.target.clientHeight));
                    let whiteSpace = scrollPercent * 100;
                    this.modalWidth = .8 + scrollPercent;
                    whiteSpace = this.modalWhiteSpace + (whiteSpace / 2);
                    
                    if (this.modalWidth > 1) {
                      this.modalWidth = 1;
                    }
                    
                    if (this.modalWidth < .8) {
                      this.modalWidth = .8;
                    }

                    if (whiteSpace > 100) {
                      whiteSpace = 100;
                    }

                    if (whiteSpace < this.modalWhiteSpace) {
                      whiteSpace = this.modalWhiteSpace;
                    }
  
                    this.$refs.activeModal.style.transform = `scale(${this.modalWidth})`;

                    if(this.$refs.mobilePrev) {
                      this.$refs.mobilePrev.style.right = `${whiteSpace}vw`;
                    }

                    if (this.$refs.mobileNext) {
                      this.$refs.mobileNext.style.left = `${whiteSpace}vw`;
                    }
                  });
                }, 1);
              }
              
              this.showModal = true;
              this.$store.body.lock = true;

              // watch if the esc key is pressed and close the modal
              window.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && this.showModal) {
                  this.closeModal();
                }
              });

              // if the left or right arrow key is pressed, go to the next or previous article
              window.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowLeft' && this.previousArticle && this.showModal) {
                  window.location.hash = this.previousArticle.hash;
                } else if (event.key === 'ArrowRight' && this.nextArticle && this.showModal) {
                  window.location.hash = this.nextArticle.hash;
                }
              });

              if (this.$store.articles.find(article => article.content.hash === value)?.content) {
                this.$store.modalType = 'article';
              } else if (this.$store.testimonies.find(testimony => testimony.content.hash === value)?.content) {
                this.$store.modalType = 'testimony';
              } else {
                this.$store.modalType = null;
              }

              if (this.$store.modalType === 'article') {
                this.$store.activeArticle = this.$store.articles.find(article => article.content.hash === value)?.content;


                this.$store.articles.forEach((article, index) => {
                  if (article.content.hash === this.$store.activeArticle.hash) {
                    this.nextArticle = this.$store.articles[index + 1]?.content;
                    this.previousArticle = this.$store.articles[index - 1]?.content;
                  }
                });
              } else if (this.$store.modalType === 'testimony') {
                this.$store.activeArticle = this.$store.testimonies.find(testimony => testimony.content.hash === value)?.content;

                this.$store.testimonies.forEach((testimony, index) => {
                  if (testimony.content.hash === this.$store.activeArticle.hash) {
                    this.nextArticle = this.$store.testimonies[index + 1]?.content;
                    this.previousArticle = this.$store.testimonies[index - 1]?.content;
                  }
                });
              }

              if (this.$store.activeArticle.modal_style === 'long') {
                // find h4 tag in the article body and put a div before it
                const h4 = this.$store.activeArticle.body.match(/<h4.*?>.*?<\/h4>/g);
                const h4Index = this.$store.activeArticle.body.indexOf(h4[0]);
                const newBody = this.$store.activeArticle.body.slice(0, h4Index) + '<div class="flex flex-col md:flex-row items-start justify-between gap-[70px] mt-[100px]"><div class="relative w-full"><svg class="md:absolute top-0 right-0 w-full translate-x-5 md:translate-z-0 md:w-[450px]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 457 437"><path fill="#CEC2FF" d="M0 200C0 89.5431 89.5431 0 200 0h257v437H0V200Z" opacity=".5" /><path fill="#CEC2FF" d="M150 200C150 89.5431 239.543 0 350 0h107v308H150V200Z" /></svg></div><div class="md:w-2/3 shrink-0">' + this.$store.activeArticle.body.slice(h4Index) + '</div></div>';
                this.bodyFormat = newBody;
              } else {
                this.bodyFormat = this.$store.activeArticle.body;
              }
            },
            closeModal() {
              this.showModal = false;
              this.$store.body.lock = false;
              window.location.hash = '';
              this.$store.activeArticle = null;
              
              if (this.scrollPosition != 0) {
                window.scrollTo(0, this.scrollPosition);
              }
            },
            checkIndex() {
              this.$store.articles.forEach((article, index) => {
                if (article.content.hash === this.$store.activeArticle.hash) {
                  this.nextArticle = this.$store.articles[index + 1]?.content ? this.$store.articles[index + 1]?.content : null;
                  this.previousArticle = this.$store.articles[index - 1]?.content ? this.$store.articles[index - 1]?.content : null;
                }
              });
            },

            checkImage() {
              if (this.$store.activeArticle.tag === 'act' || this.$store.activeArticle.tag === 'build' || this.$store.activeArticle.tag === 'choose' || this.$store.activeArticle.author == null || this.$store.activeArticle.author.image == null) {
                this.showAuthorImage = false;
              } else {
                this.showAuthorImage = true;
              }
            },
            getSVGPath(svg) {
              let fillColor = '#EEEEEE'; // Default color if no match is found

              // find the first 'path' in the string and get the fill color
              const path = svg.match(/<path.*?>/g);
              const svgIndex = svg.indexOf(path[0]);
              const pathFill = path[0].match(/fill="(.*?)"/g);
              const fillColorIndex = path[0].indexOf(pathFill[0]);

              if (pathFill) {
                fillColor = pathFill[0].slice(6, -1);
                fillColor = this.hexToRGBA(fillColor, 0.4);
              }
  
              return fillColor;
            },
            hexToRGBA(hex, alpha = 1) {
              // Remove '#' if present
              hex = hex.replace('#', '');

              // Check for shorthand hex values and expand them if needed
              if (hex.length === 3) {
                hex = hex
                  .split('')
                  .map(function (char) {
                    return char + char;
                  })
                  .join('');
              }

              // Parse the hex values for Red, Green, and Blue
              const r = parseInt(hex.substring(0, 2), 16);
              const g = parseInt(hex.substring(2, 4), 16);
              const b = parseInt(hex.substring(4, 6), 16);

              // Validate alpha value and restrict it between 0 and 1
              const validatedAlpha = Math.min(1, Math.max(0, alpha));

              // Return RGBA string
              return `rgba(${r}, ${g}, ${b}, ${validatedAlpha})`;
            },
            swipeModals() {
              window.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
              });
              window.addEventListener('touchmove', (e) => {
                if (startX !== null) {
                  dist = e.touches[0].clientX - startX;
                }
              });
              window.addEventListener('touchend', () => {
                if (startX !== null) {
                  if (dist > 50) {
                    if(this.previousArticle) {
                      this.$refs.mobilePrev.classList.add('transitionIn');
                      this.$refs.modalHeroBackground.classList.add('transitionInRight');
                      
                      if (this.nextArticle) {
                        this.$refs.mobileNext.classList.add('transitionOut');
                      }

                      setTimeout(() => {
                        this.$refs.modalHeroBackground.style.backgroundColor = this.getSVGPath(this.previousArticle.icon ? this.previousArticle.icon.square : this.placeHolderSVG);
                        window.location.hash = this.previousArticle.hash;
                        this.$refs.mobilePrev.classList.remove('transitionIn');
                        this.$refs.modalHeroBackground.classList.remove('transitionInRight');
                        
                        if (this.nextArticle) {
                          this.$refs.mobileNext.classList.remove('transitionOut');
                        }
                      }, 300);
                    }
                  } else if (dist < -50) {
                    if (this.nextArticle) {
                      this.$refs.mobileNext.classList.add('transitionIn');
                      if (this.previousArticle) {
                        this.$refs.mobilePrev.classList.add('transitionOut');
                      }
                      this.$refs.modalHeroBackground.classList.add('transitionInLeft');

                      setTimeout(() => {
                        this.$refs.modalHeroBackground.style.backgroundColor = this.getSVGPath(this.nextArticle.icon ? this.nextArticle.icon.square : this.placeHolderSVG);
                        window.location.hash = this.nextArticle.hash;
                        this.$refs.mobileNext.classList.remove('transitionIn');
                        this.$refs.modalHeroBackground.classList.remove('transitionInLeft');
                        if(this.previousArticle) {
                          this.$refs.mobilePrev.classList.remove('transitionOut');
                        }
                      }, 300);
                    }
                  }
                  startX = null;
                  dist = 0;
                }
              });
            },
            transitionModals(url) {
              event.preventDefault();
              this.showContent = false;
              // get article by url
              const article = this.$store.articles.find(article => article.content.hash === url)?.content;
              setTimeout(() => {
                window.location.hash = article.hash;
                setTimeout(() => {
                  this.showContent = true;
                }, 100);
              }, 200);
            }
          }
        }
      </script>
    </main>

    <footer class="z-10 transition-opacity duration-300">
      <div class="container relative grid gap-6 pb-9 pt-[70px]">
        <div>
          <a href="https://www.mozilla.org/en-US/" class="inline-flex hover:underline w-[100px]">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 99 29" class="w-[100px]">
              <g fill="#FFFFFF" clip-path="url(#footer-a)">
                <path
                  d="M36.9066 12.885c-1.8103 0-2.9378 1.3793-2.9378 3.7675 0 2.1956.9889 3.8842 2.9081 3.8842 1.84 0 3.0467-1.5211 3.0467-3.9401 0-2.5607-1.3453-3.7116-3.017-3.7116Zm48.5195 6.384c0 .8163.3858 1.4656 1.4539 1.4656 1.2612 0 2.6065-.928 2.6907-3.0374-.5739-.0863-1.2067-.1675-1.7855-.1675-1.2612-.0051-2.3591.36-2.3591 1.7393Z" />
                <path
                  d="M0 0v29h98.9183V0H0Zm28.7804 23.042h-5.1883v-7.1449c0-2.1957-.7121-3.0374-2.1119-3.0374-1.7014 0-2.3891 1.2372-2.3891 3.012v4.4116h1.6473v2.7587H15.555v-7.1449c0-2.1957-.7124-3.0374-2.1119-3.0374-1.7013 0-2.389 1.2372-2.389 3.012v4.4116h2.3593v2.7587H5.8707v-2.7587h1.64694V13.108H5.8707v-2.7586h5.1834v1.9118c.7417-1.3489 2.0326-2.1652 3.7588-2.1652 1.7855 0 3.4275.8722 4.036 2.7282.6873-1.6886 2.0871-2.7282 4.036-2.7282 2.2204 0 4.2535 1.3793 4.2535 4.3862v5.8011h1.6469v2.7587h-.0049Zm7.9875.2787c-3.8133 0-6.4495-2.3885-6.4495-6.4398 0-3.712 2.196-6.7798 6.6425-6.7798 4.4462 0 6.6125 3.0627 6.6125 6.6073 0 4.0516-2.8536 6.6123-6.8055 6.6123Zm19.957-.2787H45.913l-.356-1.9119 6.8055-8.017h-3.8677l-.5491 1.9676-2.5521-.2842.4402-4.4471h10.8663l.2769 1.9118-6.865 8.0221h4.0063l.5785-1.9676 2.7996.2791-.7715 4.4472Zm7.0626 0h-3.7044v-4.5588h3.7044v4.5588Zm0-8.1338h-3.7044v-4.5588h3.7044v4.5588Zm2.3148 8.1338 5.3513-19.35537h3.4869L69.5892 23.042h-3.4869Zm7.1913 0 5.3463-19.35537h3.487L76.7756 23.042h-3.482Zm18.9924.2787c-1.6469 0-2.5521-.9838-2.7154-2.5302-.7121 1.293-1.9733 2.5302-3.9766 2.5302-1.7856 0-3.8133-.9838-3.8133-3.6308 0-3.1236 2.9378-3.8537 5.7622-3.8537.6873 0 1.3994.0304 2.0327.1116v-.4208c0-1.2931-.0298-2.8399-2.0327-2.8399-.7422 0-1.3157.0559-1.8945.3651l-.4006 1.43-2.8239-.3092.4847-2.921c2.166-.9026 3.2642-1.1509 5.2969-1.1509 2.6609 0 4.9114 1.4047 4.9114 4.305v5.5122c0 .7301.2769.9835.8507.9835.163 0 .3313-.0305.5194-.086l.0294 1.9115c-.6676.3701-1.4638.5934-2.2304.5934Z" />
              </g>
              <defs>
                <clipPath id="footer-a">
                  <path fill="#fff" d="M0 0h99v29H0z" />
                </clipPath>
              </defs>
            </svg>
            <span class="sr-only">Go to Mozilla.org</span>
          </a>
        </div>
  
        <div class="flex flex-col justify-between gap-4 xl:items-center xl:gap-6 xl:flex-row">
          <p class="text-sm">
            Portions of this content are ©1998-2023 by individual mozilla.org contributors. Content available under a Creative Commons license.
          </p>
  
          <nav>
            <ul class="flex items-center gap-6 text-sm">
              <li><a href="https://www.mozilla.org/en-US/privacy/websites/" class="underline">Website Privacy Notice</a></li>
              <li><a href="https://www.mozilla.org/en-US/privacy/websites/#cookies" class="underline">Cookies</a></li>
              <li><a href="https://www.mozilla.org/en-US/about/legal/terms/mozilla/" class="underline">Legal</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </footer>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
